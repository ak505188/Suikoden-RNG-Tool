(this["webpackJsonpsuikoden-rng-tool"]=this["webpackJsonpsuikoden-rng-tool"]||[]).push([[0],{260:function(e,t,a){var n=a(446),r=[];e.exports=function(){var e=new Worker(a.p+"99c7ea401ce8f436016e.worker.js",{name:"[hash].worker.js"});return n(e,r),e}},279:function(e,t,a){e.exports=a(452)},447:function(e,t,a){},449:function(e,t,a){},452:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),o=a(24),s=a(470),c=[{name:"Home",path:"/"},{name:"Encounters",path:"/encounters"},{name:"RNG Sequence",path:"/sequence"},{name:"NPC Movements",path:"/npc"},{name:"Item Drops",path:"/drops"},{name:"RNG Finder",path:"/rngfinder"},{name:"Experience",path:"/experience"},{name:"Run Assistant",path:"/runassist"}],i=()=>n.createElement(s.a,{widths:c.length},c.map((e,t)=>n.createElement(s.a.Item,{as:o.c,exact:!0,key:t,name:e.name,to:e.path}))),u=a(461),m=a(471),p=a(472),h=()=>n.createElement(u.a,{text:!0},n.createElement(m.a,null,n.createElement(p.a,null,"About"),n.createElement("p",null,"This is a webapp dedicated to random number generation(RNG) manipulation in Suikoden 1. It's primary use is for routing and assisting a speedrun of the game.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement(o.b,{to:"/encounters"},"Encounter Tool")),n.createElement("p",null,"Calculate upcoming fights based off the RNG seed and area.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement(o.b,{to:"/sequence"},"RNG Sequence")),n.createElement("p",null,"Calculate the sequence of upcoming RNG seeds based off a RNG seed.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement(o.b,{to:"/drops"},"Item Drops")),n.createElement("p",null,"Calculate what RNG seeds drop items based off a starting RNG seed and enemy group.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement(o.b,{to:"/rngfinder"},"RNG Finder")),n.createElement("p",null,"Find (approximately) the current RNG seed based off a sequence of fights.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement(o.b,{to:"/runassist"},"Run Assistant")),n.createElement("p",null,"Tool to assist in implementing RNG manipulation strategies while speedrunning.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement("a",{href:"https://github.com/ak505188/SuikodenRNG-React/tree/master"},"Github Repository")),n.createElement("p",null,"This webapp's Github repository. README details how the game calculates most things RNG related."))),d=a(20),g=a(25),b=a(14),E=a(468),y=({value:e,onChange:t})=>n.createElement(E.a.Input,{label:"Initial RNG Value",name:"rng",type:"text",value:e,onChange:t}),v=({value:e,onChange:t})=>n.createElement(E.a.Input,{label:"Iterations",name:"iterations",step:"500",type:"number",value:e,onChange:t}),x=({value:e,onChange:t})=>n.createElement(E.a.Input,{label:"Party Level",name:"partylevel",type:"number",value:e,onChange:t}),O=Object(g.e)(({areas:e,history:t})=>{var a=Object(n.useState)(b.b.numToHexString(18)),l=Object(d.a)(a,2),o=l[0],s=l[1],c=Object(n.useState)(1e3),i=Object(d.a)(c,2),m=i[0],p=i[1],h=Object(n.useState)(0),g=Object(d.a)(h,2),O=g[0],f=g[1],w=Object(n.useState)(!0),j=Object(d.a)(w,2),k=j[0],C=j[1],S=Object(n.useState)([]),G=Object(d.a)(S,2),R=G[0],I=G[1];return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{onSubmit:e=>{e.preventDefault();var a=new URLSearchParams;a.append("rng",o),a.append("iterations",m),a.append("partylevel",O),a.append("realistic",k),a.append("areas",R),t.push("/encounters/result?".concat(a.toString()))},action:"result",size:"large"},r.a.createElement(y,{value:o,onChange:e=>s(e.target.value)}),r.a.createElement(v,{value:m,onChange:e=>p(e.target.value)}),r.a.createElement(x,{value:O,onChange:e=>f(e.target.value)}),r.a.createElement(E.a.Dropdown,{label:"Areas",placeholder:"Area",options:b.b.areaNamesWithRandomEncounters.map(t=>({key:t,value:t,text:e[t].name})),value:R,onChange:(e,t)=>I(t.value),multiple:!0,search:!0,selection:!0}),r.a.createElement(E.a.Checkbox,{label:"Realistic Mode",name:"realistic",checked:k,onChange:e=>C(e.target.checked)}),r.a.createElement(E.a.Button,{type:"submit",content:"Generate Encounters",primary:!0})))}),f=a(96),w=a(453),j=a(8),k={lineHeight:1},C=e=>{var t=e.columns.reduce((e,t)=>(!1!==t.show&&e.push(t),e),[]),a=e.width/t.reduce((e,t)=>e+t.width,0),r=e.rowStyle?Object(j.a)(Object(j.a)({},k),e.rowStyle):k;return n.createElement(f.c,{headerHeight:e.headerHeight,height:e.height,onRowClick:({index:t})=>{e.onRowClick&&e.onRowClick(t)},rowCount:e.data.length,rowGetter:({index:t})=>e.data[t],rowHeight:e.rowHeight,rowStyle:({index:t})=>void 0!==e.currentRow&&e.currentRow===t?Object(j.a)(Object(j.a)({},r),{},{backgroundColor:"yellow"}):r,scrollToIndex:e.currentRow,scrollToAlignment:"start",width:e.width},t.map(e=>n.createElement(f.b,{cellRenderer:({cellData:e})=>null===e?"":n.isValidElement(e)?e:String(e),key:e.key,label:e.label,dataKey:e.key,width:a*e.width})))},S=a(463),G=a(167),R=a.n(G);class I extends n.Component{constructor(e){super(e),this.filter=()=>{this.setState({filtering:!0},()=>{this.state.searchApi.search(this.state.filter).then(e=>{this.props.setRowsToRender(e),this.setState({filtering:!1})}).catch(e=>console.error(e))})},this.state={searchApi:new R.a({tokenizePattern:/,/}),filter:"",filtering:!1}}componentDidMount(){this.indexData(this.props.data)}componentDidUpdate(e){b.b.arraysEqual(this.props.data,e.data)||(this.state.searchApi._search._worker.terminate(),this.setState({searchApi:new R.a({tokenizePattern:/,/})},()=>{this.indexData(this.props.data),this.filter()}))}indexData(e){for(var t=0;t<e.length;t++){var a=JSON.stringify(e[t]).replace(/{|}/g,"").replace(/"[^,]*?":/g,"").replace(/"/g,"").trim();this.state.searchApi.indexDocument(t,a)}}render(){return n.createElement(S.a,{placeholder:"Filter",loading:this.state.filtering,type:"text",onChange:e=>this.setState({filter:e.currentTarget.value},()=>this.filter()),value:this.state.filter})}}var N=a(469),A=a(462),H=e=>n.createElement(N.a,{selection:!0,text:"Columns",options:e.columns.map((t,a)=>n.createElement(A.a,{as:N.a.Item,key:t.key,label:t.label,onMouseDown:t=>{t.preventDefault(),e.toggleColumn(a)},checked:!1!==e.columns[a].show}))}),T=a(467),F=a(247),_=a.n(F),M=e=>{var t=Object(n.useState)("csv"),a=Object(d.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(""),c=Object(d.a)(s,2),i=c[0],u=c[1],m=(e,{value:t})=>o(t),p=Object(n.useState)(""),h=Object(d.a)(p,2),g=h[0],b=h[1],y=()=>{if("csv"===l){var t=e.columns.filter(e=>!1!==e.show),a=[];a.push(t.map(e=>e.label).join());var n=e.data.map(e=>{var a=[];return t.forEach(t=>a.push(e[t.key])),a.join()}).join("\r\n");return a.push(n),a.join("\r\n")}return JSON.stringify(e.data,null,2)};return r.a.createElement(T.a,{trigger:e.trigger},r.a.createElement(T.a.Header,null,"Export Table"),r.a.createElement(T.a.Content,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Group,{inline:!0},r.a.createElement(E.a.Radio,{label:"CSV",value:"csv",checked:"csv"===l,onChange:m}),r.a.createElement(E.a.Radio,{label:"JSON",value:"json",checked:"json"===l,onChange:m}),r.a.createElement(E.a.Button,{color:"green",content:"Copy to Clipboard",onClick:()=>{var e=y();navigator.clipboard.writeText(e).then(()=>u("Copied!"),()=>u("Failure.")),setTimeout(()=>u(""),3e3)}}),r.a.createElement("span",null,i)),r.a.createElement(E.a.Group,{inline:!0},r.a.createElement(E.a.Input,{label:"Filename",type:"text",placeholder:"Filename",value:g,onChange:e=>b(e.target.value)}),r.a.createElement(E.a.Button,{content:"Download",primary:!0,onClick:()=>{var e=y(),t=new Blob([e],{type:"json"===l?"application/json;charset=utf-8":"text/csv;charset=utf-8;"});_.a.saveAs(t,"".concat(g,".").concat(l))}})))))},D=e=>e.map((e,t)=>t);class L extends n.Component{constructor(e){super(e),this.state={rowsToRender:D(e.data),columns:e.columns}}componentDidUpdate(e){var t=this.props.filterFromData?e.data.map(e=>b.b.filterPropertiesFromObject(e,this.props.filterFromData)):e.data,a=this.props.filterFromData?this.props.data.map(e=>b.b.filterPropertiesFromObject(e,this.props.filterFromData)):this.props.data;b.b.arraysEqual(t,a)||this.setState({rowsToRender:D(this.props.data)})}render(){var e=this.state.rowsToRender.map(e=>this.props.data[e]),t=this.props.filterFromData?this.props.data.map(e=>b.b.filterPropertiesFromObject(e,this.props.filterFromData)):this.props.data;return n.createElement(f.a,null,({height:a,width:r})=>n.createElement(n.Fragment,null,n.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:r,height:38}},!1!==this.props.filter?n.createElement("div",{style:{marginRight:"auto"}},n.createElement(I,{data:void 0!==this.props.filterFromData?t:this.props.data,setRowsToRender:e=>this.setState({rowsToRender:e})})):null,n.createElement(M,{columns:this.state.columns,data:e,trigger:n.createElement(w.a,{primary:!0},"Export")}),n.createElement(H,{columns:this.state.columns,toggleColumn:e=>{var t=this.state.columns;t[e].show=!1===t[e].show,this.setState({columns:t})}})),n.createElement(C,Object.assign({},this.props,{currentRow:this.props.currentRow,columns:this.state.columns,data:e,height:a-38,width:r,headerHeight:this.props.headerHeight||30,rowHeight:this.props.rowHeight||30,rowStyle:this.props.rowStyle||{}}))))}}var B=e=>n.createElement(L,{columns:[{label:"Area",key:"area",width:200},{label:"Enemy Group",key:"enemy",width:300},{label:"Index",key:"index",width:100},{label:"Run",key:"run",width:100},{label:"Encounter RNG",key:"startRNG",width:150},{label:"Battle RNG",key:"battleRNG",width:150},{label:"Wheel Attempts",key:"wheel",width:150},{label:"Champion Value",key:"champVal",width:150,show:!1},{label:"Is Battle Value",key:"isBattleValue",width:150,show:!1}],data:e.encounters}),P=Object(g.e)(({areas:e,location:t})=>{var a=new URLSearchParams(t.search),n=parseInt(a.get("rng")),l=parseInt(a.get("iterations")),o=parseInt(a.get("partylevel")),s=a.get("areas").split(",").map(t=>e[t]),c="true"===a.get("realistic"),i=s.map(e=>e.generateEncounters(new b.c(n),l,o,c)).reduce((e,t)=>e.concat(t),[]).map(e=>({area:e.area,enemy:e.enemyGroup.name,index:e.index,run:e.run?"Run":"Fail",startRNG:b.b.numToHexString(e.startRNG),battleRNG:b.b.numToHexString(e.battleRNG),wheel:e.wheel,champVal:e.enemyGroup.champVal,isBattleValue:e.isBattleValue})).sort((e,t)=>e.index!==t.index?e.index-t.index:e.area<t.area?-1:1);return r.a.createElement(u.a,{style:{flex:1},textAlign:"center"},r.a.createElement(B,{encounters:i}))}),z=Object(g.e)(({areas:e,history:t})=>{var a=Object(n.useState)(b.b.numToHexString(18)),l=Object(d.a)(a,2),o=l[0],s=l[1],c=Object(n.useState)(1e3),i=Object(d.a)(c,2),m=i[0],p=i[1],h=Object(n.useState)("Cave of the Past"),g=Object(d.a)(h,2),x=g[0],O=g[1],f=Object(n.useState)(0),w=Object(d.a)(f,2),j=w[0],k=w[1];return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{size:"large",onSubmit:e=>{e.preventDefault();var a=new URLSearchParams;a.append("rng",o),a.append("iterations",m),a.append("area",x),a.append("enemyGroup",j),t.push("/drops/result?".concat(a.toString()))}},r.a.createElement(y,{value:o,onChange:e=>s(e.target.value)}),r.a.createElement(v,{value:m,onChange:e=>p(e.target.value)}),r.a.createElement(E.a.Dropdown,{label:"Area",placeholder:"Area",options:Object.keys(e).map(t=>({key:t,value:t,text:e[t].name})),value:x,onChange:(e,t)=>O(t.value),search:!0,selection:!0}),r.a.createElement(E.a.Dropdown,{label:"Enemy Group",placeholder:"Enemy Group",options:e[x].encounterTable.map((e,t)=>({key:e.name,value:t,text:e.name})),value:j,onChange:(e,t)=>k(t.value),search:!0,selection:!0}),r.a.createElement(E.a.Button,{type:"submit",content:"Calculate Drops",primary:!0})))}),U=({drops:e})=>n.createElement(L,{data:e,columns:[{label:"Index",key:"index",width:100},{label:"Drop",key:"drop",width:300},{label:"RNG",key:"rng",width:150}]}),V=Object(g.e)(({areas:e,location:t})=>{var a=new URLSearchParams(t.search),n=new b.c(parseInt(a.get("rng"))),l=parseInt(a.get("iterations")),o=e[a.get("area")].encounterTable[a.get("enemyGroup")].calculateDrops(n,l).map((e,t)=>({drop:e.drop,index:t,rng:b.b.numToHexString(e.rng)}));return r.a.createElement(u.a,{style:{flex:1},textAlign:"center"},r.a.createElement(U,{drops:o}))}),W=Object(g.e)(({history:e})=>{var t=Object(n.useState)(b.b.numToHexString(18)),a=Object(d.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(1e3),c=Object(d.a)(s,2),i=c[0],m=c[1];return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{size:"large",onSubmit:t=>{t.preventDefault();var a=new URLSearchParams;a.append("rng",l),a.append("iterations",i),e.push("/sequence/result?".concat(a.toString()))}},r.a.createElement(y,{value:l,onChange:e=>o(e.target.value)}),r.a.createElement(v,{value:i,onChange:e=>m(e.target.value)}),r.a.createElement(E.a.Button,{type:"submit",content:"Calculate Sequence",primary:!0})))}),q=({sequence:e})=>n.createElement(L,{columns:[{key:"index",label:"Index",width:100},{key:"rng",label:"RNG",width:150},{key:"wheelAttempts",label:"Wheel Attempts",width:200,show:!1},{key:"cliveAppearance",label:"Clive Appearance",width:200,show:!1},{key:"marieText",label:"Marie Dialogue",width:200,show:!1}],data:e}),J=Object(g.e)(({location:e})=>{for(var t=new URLSearchParams(e.search),a=new b.c(parseInt(t.get("rng"))),n=parseInt(t.get("iterations")),l=[],o=[],s=[],c=[],i=0;i<n;i++)l.push(a.toString()),o.push(b.c.getWheelAttempts(a.clone().next())),s.push(a.isMarieDialogue()?"Antonio Dialogue":"No Dialogue"),c.push(a.isCliveAppearance()?"Clive":"No Clive"),a.next();return r.a.createElement(u.a,{style:{flex:1},textAlign:"center"},r.a.createElement(q,{sequence:l.map((e,t)=>({rng:e,index:t,wheelAttempts:o[t],marieText:s[t],cliveAppearance:c[t]}))}))}),Y=Object(g.e)(({history:e})=>{var t=Object(n.useState)(b.b.numToHexString(18)),a=Object(d.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(1e3),c=Object(d.a)(s,2),i=c[0],m=c[1],p=Object(n.useState)(1),h=Object(d.a)(p,2),g=h[0],x=h[1];return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{onSubmit:t=>{t.preventDefault();var a=new URLSearchParams;a.append("rng",l),a.append("iterations",i),a.append("npcs",g),e.push("/npc/result?".concat(a.toString()))}},r.a.createElement(y,{value:l,onChange:e=>o(e.target.value)}),r.a.createElement(v,{value:i,onChange:e=>m(e.target.value)}),r.a.createElement(E.a.Input,{label:"Number of NPCs",name:"npcs",step:"1",type:"number",value:g,onChange:e=>x(e.target.value)}),r.a.createElement(E.a.Button,{type:"submit",content:"Calculate NPC Movements",primary:!0})))}),K=({NPCInfo:e})=>n.createElement(L,{columns:[{key:"index",label:"Index",width:100},{key:"npc",label:"NPC #",width:50},{key:"direction",label:"Direction",width:150},{key:"rng",label:"RNG",width:150}],data:e});function Z(e){switch(e%4){case 0:return"Down";case 1:return"Up";case 2:return"Left";case 3:return"Right";default:return"?"}}var X=Object(g.e)(({location:e})=>{for(var t=new URLSearchParams(e.search),a=new b.c(parseInt(t.get("rng"))),r=parseInt(t.get("iterations")),l=parseInt(t.get("npcs")),o=[],s=0,c=0;c<r;c++){var i="",m=c;a.getRNG2()<203?(a.next(),c++,i="Previous Movement",b.b.div32ulo(a.getRNG2(),8191)>0&&(a.next(),c++,i=Z(b.b.div32ulo(a.getRNG2(),6553))),o.push({index:m,rng:b.b.numToHexString(a.getRNG()),direction:i,npc:s+1})):s=(s+1)%l,a.next()}return n.createElement(u.a,{style:{flex:1},textAlign:"center"},n.createElement(K,{NPCInfo:o}))}),$=a(32),Q=a(33);function ee(){var e=Object($.a)(["\n  &&& {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin-bottom: 1em;\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object($.a)(["\n  &&& {\n    border: 1px solid rgba(34,36,38,.15);\n    border-radius: .28571429rem;\n    width: 100%;\n    flex: 1;\n  }\n"]);return te=function(){return e},e}function ae(){var e=Object($.a)(["\n  &&& {\n    margin: 0 0 .28571429rem 0;\n    color: rgba(0,0,0,.87);\n    font-size: .92857143em;\n    font-weight: 700;\n    text-transform: none;\n  }\n"]);return ae=function(){return e},e}function ne(){var e=Object($.a)(["\n  &&& {\n    width: 49.75%;\n    display: flex;\n    flex-direction: column;\n  }\n"]);return ne=function(){return e},e}function re(){var e=Object($.a)(["\n  &&& {\n    width: 100%;\n    border: 0;\n    border-radius: .28571429rem;\n    background-color: white;\n    color: black;\n  }\n"]);return re=function(){return e},e}var le=Q.a.button(re()),oe=Q.a.div(ne()),se=Q.a.label(ae()),ce=Q.a.div(te()),ie=Q.a.div(ee());class ue extends n.Component{constructor(...e){super(...e),this.handleClick=(e,t)=>{t.preventDefault(),this.props.click(e,t)}}render(){return n.createElement(oe,null,n.createElement(se,null,this.props.label),n.createElement(ce,null,this.props.list.map((e,t)=>n.createElement(le,{onClick:this.handleClick.bind(this,t),key:t,value:t},this.props.optionNames?this.props.optionNames[t]:e))))}}class me extends n.Component{constructor(...e){super(...e),this.addItem=(e,t)=>{this.props.handleChange([...this.props.list,parseInt(t.currentTarget.value)])},this.removeItem=(e,t)=>{this.props.handleChange([...this.props.list.slice(0,e),...this.props.list.slice(e+1)])}}render(){return n.createElement(ie,null,n.createElement(ue,{list:this.props.options,label:"Add Enemies",click:this.addItem}),n.createElement(ue,{label:"Remove Enemies",list:this.props.list.map((e,t)=>this.props.options[e]),click:this.removeItem}))}}var pe=a(464),he=({cancel:e,message:t,progress:a,done:r,result:l,running:o})=>n.createElement(u.a,{textAlign:"center"},l&&n.createElement(m.a,null,n.createElement("p",null,"First Battle RNG: ",b.b.numToHexString(l.foundEncounterRNG)),n.createElement("p",null,"Previous Battle RNG: ",b.b.numToHexString(l.foundEncounterRNGPrevious))),n.createElement(pe.a,{percent:r?100:a,progress:!0,indicating:!0,label:t}),n.createElement(w.a,{type:"button",onClick:e,content:"Terminate",negative:!0,disabled:!o})),de=a(260),ge=a.n(de),be={progress:0,message:"",done:!1},Ee=({areas:e})=>{var t=Object(n.useState)(b.b.numToHexString(18)),a=Object(d.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(b.b.areaNamesWithRandomEncounters[0]),c=Object(d.a)(s,2),i=c[0],m=c[1],p=Object(n.useState)([]),h=Object(d.a)(p,2),g=h[0],v=h[1],x=Object(n.useState)(!1),O=Object(d.a)(x,2),f=O[0],w=O[1],j=Object(n.useState)(be),k=Object(d.a)(j,2),C=k[0],S=k[1],G=Object(n.useState)(),R=Object(d.a)(G,2),I=R[0],N=R[1],A=()=>{I.terminate(),N(void 0)};return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{size:"large",onSubmit:()=>(t=>{if(!(g.length<2)){void 0!==I&&A();var a=new ge.a,n=e[i],r={areaType:n.areaType,tableLength:n.encounterTable.length,encounterRate:n.encounterRate};a.onmessage=e=>{var t=e.data,a=t.done,n=t.message,r=t.progress,l=t.result;S({done:a,message:n,progress:r,result:l}),w(!a)},N(a),w(!0),a.postMessage({workerParams:r,encounters:g,rng:parseInt(l)})}})()},r.a.createElement(y,{value:l,onChange:e=>o(b.b.numToHexString(e.target.value))}),r.a.createElement(E.a.Dropdown,{label:"Areas",placeholder:"Area",options:b.b.areaNamesWithRandomEncounters.map(t=>({key:t,value:t,text:e[t].name})),value:i,onChange:(e,t)=>{var a=t.value;v(a===i?g:[]),m(a)},search:!0,selection:!0}),r.a.createElement(me,{handleChange:e=>v(e),list:g,options:e[i].encounterTable.map(e=>e.name)}),r.a.createElement(E.a.Button,{style:{marginBottom:"1em"},type:"submit",content:"Find RNG Seed",primary:!0})),""!==C.message&&r.a.createElement(he,Object.assign({running:f,cancel:e=>{e.preventDefault(),w(!1),S(be),A()}},C)))},ye=a(172),ve=a(261),xe=a.n(ve),Oe=({enemyGroupName:e,index:t,partySize:a,onPartySizeChange:n,onSelectedFightDelete:l})=>r.a.createElement("span",{className:"experience-selected-fight-container"},r.a.createElement("span",{className:"experience-remove-fight",onClick:l},"X"),r.a.createElement("input",{className:"experience-party-size",type:"number",min:"0",max:"6",value:a,onChange:e=>n(e.target.value,t)}),r.a.createElement("span",{className:"experience-fight-name"},e)),fe=Object(ye.b)(({value:e,listItemHandlers:t,sortIndex:a})=>r.a.createElement(le,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(Oe,{enemyGroupName:e.enemyGroup.name,partySize:e.partySize,onPartySizeChange:t.onPartySizeChange,index:a,onSelectedFightDelete:()=>t.onSelectedFightDelete(a)}))),we=Object(ye.a)(({list:e,listItemHandlers:t})=>r.a.createElement(ce,null,e.map((e,a)=>r.a.createElement(fe,{key:"item-".concat(a),index:a,sortIndex:a,value:e,listItemHandlers:t,render:e})))),je=e=>r.a.createElement(oe,null,r.a.createElement(se,null,e.label," (Hold to drag)"),r.a.createElement(we,{list:e.list,listItemHandlers:e.listItemHandlers,pressDelay:100,onSortEnd:({oldIndex:t,newIndex:a})=>{var n=xe()(e.list,t,a);e.handleDrag(n)},onClick:e.onClick,lockAxis:"y"})),ke=a(170),Ce=a.n(ke);Ce.a.config({DECIMAL_PLACES:3,ROUNDING_MODE:1});var Se=[1,2,3,5,7,10,15,20,30,50,70,90,120,160,200,400,900,1600,2600,3900,5100,6e3,6900,7500,8e3,8500,9e3,9300,9700,1e4],Ge=Object(g.e)(({levels:e,fights:t})=>{var a=e.map(e=>{var a=parseFloat(e);return t.reduce((e,t)=>{var a=parseInt(t.partySize);return 0===a?e:new Ce.a(t.levels.reduce((t,a)=>{var n=Math.ceil(a-e);return n>14?n=15:n<-13&&(n=-14),t+Se[n+14]/1e3},0)).dividedBy(a).plus(e).toFormat(3)},a)});return r.a.createElement(u.a,{style:{flex:1},textAlign:"center"},a.map((t,a)=>r.a.createElement("div",{key:"".concat(t,"-").concat(a)},e[a]," : ",t)))}),Re=(a(447),Object(g.e)(({areas:e})=>{var t=Object(n.useState)("24.165"),a=Object(d.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)("Cave of the Past"),c=Object(d.a)(s,2),i=c[0],m=c[1],p=Object(n.useState)([]),h=Object(d.a)(p,2),g=h[0],b=h[1];return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{size:"large"},r.a.createElement(E.a.Input,{label:"Character Level",type:"text",value:l,min:1,max:99,step:.001,onChange:e=>o(e.target.value)}),r.a.createElement(E.a.Dropdown,{label:"Areas",placeholder:"Area",options:Object.keys(e).map(t=>({key:t,value:t,text:e[t].name})),value:i,onChange:(e,t)=>m(t.value),multiple:!1,search:!0,selection:!0}),r.a.createElement(ie,null,r.a.createElement(ue,{label:"Add Fight",click:t=>b([...g,{partySize:6,enemyGroup:e[i].encounterTable[t]}]),list:e[i].encounterTable,optionNames:e[i].encounterTable.map(e=>e.name)}),r.a.createElement(je,{label:"Selected Fights",onClick:e=>b([...g.slice(0,e),...g.slice(e+1)]),handleDrag:e=>b(e),listItemHandlers:{onPartySizeChange:(e,t)=>{b(a=>[...a.slice(0,t),{partySize:e,enemyGroup:a[t].enemyGroup},...a.slice(t+1)])},onSelectedFightDelete:e=>b(t=>[...t.slice(0,e),...t.slice(e+1)])},list:g}))),r.a.createElement(Ge,{levels:l.split(","),fights:g.map(e=>({partySize:e.partySize,levels:e.enemyGroup.enemies.map(e=>e.stats.lvl)}))}))}));class Ie extends n.Component{constructor(e){super(e),this.handleInputChange=(e,{checked:t,name:a,value:n})=>{this.setState(e=>Object(j.a)(Object(j.a)({},e),{},{[a]:t||n}))},this.handleAreaChange=(e,t)=>{this.setState({areas:t.value})},this.handleSubmit=e=>{e.preventDefault();var t=new URLSearchParams;Object.keys(this.state).forEach(e=>{t.append(e,this.state[e])}),this.props.history.push("/runassist/result?".concat(t.toString()))},this.state={rng:b.b.numToHexString(18),iterations:1e3,partylevel:0,realistic:!0,areas:[]}}render(){return n.createElement(u.a,{textAlign:"center"},n.createElement(E.a,{size:"large",onSubmit:this.handleSubmit},n.createElement(E.a.Input,{label:"Initial RNG Value",name:"rng",type:"text",value:this.state.rng,onChange:this.handleInputChange}),n.createElement(E.a.Input,{label:"Iterations",name:"iterations",type:"number",step:500,value:this.state.iterations,onChange:this.handleInputChange}),n.createElement(E.a.Input,{label:"Party Level",name:"partylevel",type:"number",value:this.state.partylevel,onChange:this.handleInputChange}),n.createElement(E.a.Dropdown,{label:"Areas",placeholder:"Area",options:b.b.areaNamesWithRandomEncounters.map(e=>({key:e,value:e,text:this.props.areas[e].name})),value:this.state.areas,onChange:this.handleAreaChange,multiple:!0,search:!0,selection:!0}),n.createElement(E.a.Checkbox,{label:"Realistic Mode",name:"realistic",checked:this.state.realistic,onChange:this.handleInputChange}),n.createElement(E.a.Button,{type:"submit",content:"Generate Encounters",primary:!0})))}}var Ne=Object(g.e)(Ie),Ae=a(40),He=a(72),Te=a(263),Fe=a(465),_e=e=>({type:"FIND_FIGHT",name:e}),Me=a(466);var De=Object(Me.a)({SWITCH_AREA:(e,t)=>{var a=e.areas.map(e=>e.name).findIndex(e=>t.area===e),n=Pe(e).index;if(-1===a)return e;var r=e.index;for(e.fightsList[a].length<=r&&(r=e.fightsList[a].length-1);e.fightsList[a][r].index>n&&r>0;)r--;for(;e.fightsList[a][r].index<n&&r<e.fightsList[a].length-1;)r++;return Object(j.a)(Object(j.a)({},e),{},{currentArea:a,pattern:[],index:r})},PREVIOUS_FIGHT:(e,t)=>0!==e.index?Object(j.a)(Object(j.a)({},e),{},{pattern:[],index:e.index-1}):e,NEXT_FIGHT:(e,t)=>e.index<ze(e).length-1?Object(j.a)(Object(j.a)({},e),{},{pattern:[],index:e.index+1}):e,SELECT_FIGHT:(e,t)=>t.index<ze(e).length-1?Object(j.a)(Object(j.a)({},e),{},{pattern:[],index:t.index}):e,FIND_FIGHT:(e,t)=>{if(!e.patternMode){var a=Ue(e,t.name);return a=-1!==a?a:e.index,Object(j.a)(Object(j.a)({},e),{},{pattern:[],index:a})}var n=Le(e),r=Ve(t.name,n.enemies),l=e.pattern.concat([r]),o=Math.max(0,e.index-l.length+2),s=ze(e).map(e=>Ve(e.enemyGroup.name,n.enemies)).slice(o);if(l.length>1){var c=b.b.encounterSequenceToString(s).search(b.b.encounterSequenceToString(l));return c>=0?Object(j.a)(Object(j.a)({},e),{},{pattern:l,index:o+c+l.length-1}):e}var i=Ue(Object(j.a)(Object(j.a)({},e),{},{index:o}),t.name);return Object(j.a)(Object(j.a)({},e),{},{pattern:l,index:-1!==i?i:o})},JUMP_RNG:(e,t)=>{var a=function(e,t){for(var a=0;a<e.length;a++)if(e[a].index>t)return a;return e.length-1}(ze(e),Pe(e).index+t.jump);return Object(j.a)(Object(j.a)({},e),{},{pattern:[],index:a})},TOGGLE_PATTERN_MODE:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{patternMode:!e.patternMode})},{currentArea:0,areas:[],fightsList:[],index:0,pattern:[],patternMode:!1});function Le(e){return e.areas[e.currentArea]}function Be(e){return Le(e).enemies}function Pe(e){return e.fightsList[e.currentArea][e.index]}function ze(e){return e.fightsList[e.currentArea]}function Ue(e,t){return ze(e).findIndex((a,n)=>a.enemyGroup.name===t&&n>e.index)}function Ve(e,t){return t.findIndex(t=>t.name===e)}var We={selectFight:e=>({type:"SELECT_FIGHT",index:e})},qe=Object(Ae.b)(e=>({fights:ze(e.RunAssistant),currentRow:e.RunAssistant.index,columns:e.config.columns,headerHeight:e.config.table.headerHeight,rowHeight:e.config.table.rowHeight,rowStyle:Object(j.a)(Object(j.a)({},e.config.table.rowStyle),{},{fontSize:"".concat(e.config.table.rowStyle.fontSize,"px")})}),We)(e=>{var t=e.columns,a=e.fights.map(t=>Object(j.a)(Object(j.a)({},t),{},{enemyGroup:t.enemyGroup.name,enemyGroupImage:n.createElement("div",{style:{height:e.rowHeight},className:"enemyGroupImage"},t.enemyGroup.enemies.map((t,a)=>n.createElement("img",{style:{height:e.rowHeight},className:"enemyImage",alt:"",key:a,src:"data:image/png;base64, ".concat(t.img)}))),run:t.run?"Run":"Fail",startRNG:b.b.numToHexString(t.startRNG),battleRNG:b.b.numToHexString(t.battleRNG),champVal:t.enemyGroup.champVal}));return n.createElement(u.a,{textAlign:"center",style:{display:"block",height:"100%"}},n.createElement(L,{currentRow:e.currentRow,columns:t,data:a,filter:!0,filterFromData:["enemyGroupImage"],headerHeight:e.headerHeight,onRowClick:t=>e.selectFight(t),rowHeight:e.rowHeight,rowStyle:e.rowStyle}))});function Je(){var e=Object($.a)(["\n  &&&&& {\n    height: 60px;\n    margin: 0 2px;\n    flex: 1;\n    border: none;\n    border-radius: .28571429rem;\n    padding: 2px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"]);return Je=function(){return e},e}function Ye(){var e=Object($.a)(["\n  &&&&& {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 60px;\n    flex: 1;\n    margin: 0 2px;\n  }\n"]);return Ye=function(){return e},e}function Ke(){var e=Object($.a)(["\n  &&&&& {\n    height: 60px;\n    width: 100%;\n    margin: 2px 0;\n    flex: 0 0 auto;\n    border: none;\n    border-radius: .28571429rem;\n    padding: 2px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"]);return Ke=function(){return e},e}function Ze(){var e=Object($.a)(["\n  &&&&& {\n    width: 100%;\n    flex: 0 0 auto;\n    margin: 2px 0;\n  }\n"]);return Ze=function(){return e},e}function Xe(){var e=Object($.a)(["\n  padding: 0 2px;\n  max-height: 56px;\n"]);return Xe=function(){return e},e}var $e=Q.a.img(Xe()),Qe=Q.a.button(Ze()),et=Q.a.div(Ke()),tt=Q.a.div(Ye()),at=Q.a.div(Je()),nt=e=>{var t=e.useImages,a=e.enemyGroup;return t?n.createElement(at,Object.assign({className:"ui button",role:"button"},e),a.enemies.map((e,t)=>n.createElement($e,{key:t,src:e.img}))):n.createElement(tt,Object.assign({className:"ui button",role:"button"},e),a.name)},rt=e=>{var t=e.useImages,a=e.enemyGroup;return t?n.createElement(et,Object.assign({className:"ui button",role:"button"},e),a.enemies.map((e,t)=>n.createElement($e,{key:t,src:"data:image/png;base64, ".concat(e.img)}))):n.createElement(Qe,Object.assign({className:"ui button",role:"button"},e),a.name)},lt={findFight:_e,setEnemyButtonGroupSize:e=>({type:"SET_ENEMY_BUTTON_GROUP_SIZE",size:e})},ot=Object(Ae.b)(e=>({enemies:Be(e.RunAssistant),useImages:e.config.useImages,patternMode:e.RunAssistant.patternMode,groupSize:e.controls.compactEnemyButtonsGroupSize,hotkeys:e.config.hotkeys.compactModeEnemyButtons}),lt)(({enemies:e,findFight:t,groupSize:a,hotkeys:l,setEnemyButtonGroupSize:o,useImages:s})=>{var c=e.reduce((e,t)=>{var a=t.enemies.length;return e.includes(a)||e.push(a),e},[]).sort(),i=e.reduce((e,t)=>(e[t.enemies.length].push(t),e),{1:[],2:[],3:[],4:[],5:[],6:[]}),p=Object(n.useCallback)(e=>{t(e.name)},[t]),h=Object(n.useCallback)(e=>{1===i[e].length?t(i[e][0].name):i[e].length>0&&o(e)},[i,t,o]),d=Object(n.useCallback)(e=>{null===a?h(e+1):e<i[a].length&&p(i[a][e])},[i,a,p,h]);return Object(n.useEffect)(()=>{var e=e=>{if("input"!==e.target.tagName.toLowerCase()){var t=l.indexOf(e.key);-1!==t&&d(t)}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[l,d]),r.a.createElement(u.a,{style:{width:"100%"}},r.a.createElement(m.a,null,r.a.createElement(w.a.Group,{style:{width:"100%",margin:"2px"}},null===a?c.map(e=>r.a.createElement("button",{key:e,style:{height:"60px",margin:"0 2px",flex:1},className:"ui button",onClick:()=>h(e)},e)):i[a].map(e=>r.a.createElement(nt,{key:e.name,useImages:s,enemyGroup:e,onClick:()=>p(e)})))))});function st(){var e=Object($.a)(["\n  display: flex;\n  justify-content: space-around;\n"]);return st=function(){return e},e}var ct=Q.a.div(st()),it=({enemiesByEnemyCount:e,useImages:t,enemyButtonOnClick:a})=>n.createElement(u.a,{style:{width:"100%"}},n.createElement(m.a,null,n.createElement(ct,null,e.map((e,r)=>n.createElement(w.a.Group,{style:{width:"100%",margin:"2px"},vertical:!0,key:r},e.map(e=>n.createElement(rt,{key:e.name,useImages:t,enemyGroup:e,onClick:()=>a(e.name)}))))))),ut={findFight:_e},mt=Object(Ae.b)(e=>({enemies:Be(e.RunAssistant),useImages:e.config.useImages,patternMode:e.RunAssistant.patternMode}),ut)(e=>{var t=e.enemies.reduce((e,t)=>{var a=t.enemies.length-1;return void 0===e[a]&&(e[a]=[]),e[a].some(e=>t.name===e.name)||e[a].push(t),e},new Array(6)).reduce((e,t)=>(void 0===t||(t.length>1&&t.sort((e,t)=>e.name<t.name?-1:1),e.push(t)),e),[]);return n.createElement(it,{enemiesByEnemyCount:t,useImages:e.useImages,enemyButtonOnClick:t=>e.findFight(t)})}),pt=a(267),ht=e=>{var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],o=a[1],s=e.action,c=e.hotkey,i=e.changeHotkey,u=Object(pt.a)(e,["action","hotkey","changeHotkey"]);return Object(n.useEffect)(()=>{document.getElementById(s).addEventListener("focus",()=>o(!0)),document.getElementById(s).addEventListener("blur",()=>o(!1)),document.getElementById(s).addEventListener("keypress",e=>{i(e.key.toLowerCase()),o(!1)})},[s,i]),r.a.createElement(E.a.Input,Object.assign({id:e.action,value:l?"Press key to bind.":c.toLowerCase()},u))},dt={changeUseImages:e=>({type:"CHANGE_USE_IMAGES",useImages:e}),changeCompactMode:e=>({type:"CHANGE_COMPACT_MODE",compactMode:e}),changeColumnVisibility:(e,t)=>({type:"CHANGE_COLUMN_VISIBILITY",index:e,show:t}),changeColumnWidth:(e,t)=>({type:"CHANGE_COLUMN_WIDTH",index:e,width:t}),changeRowFontSize:e=>({type:"CHANGE_ROW_FONT_SIZE",size:e}),changeTableRowHeight:e=>({type:"CHANGE_TABLE_ROW_HEIGHT",height:e}),changeTableHeaderHeight:e=>({type:"CHANGE_TABLE_HEADER_HEIGHT",height:e}),changeCompactModeEnemyButtonsHotkey:(e,t)=>({type:"CHANGE_COMPACT_MODE_ENEMY_BUTTONS_HOTKEY",index:e,key:t}),changeHotkey:(e,t)=>({type:"CHANGE_HOTKEY",action:e,key:t}),resetToDefault:()=>({type:"RESET_TO_DEFAULT"})},gt=Object(Ae.b)(e=>Object(j.a)({},e.config),dt)(e=>n.createElement(T.a,{trigger:e.trigger},n.createElement(T.a.Header,null,"Run Assistant Configuration"),n.createElement(T.a.Content,null,n.createElement(E.a,null,n.createElement(p.a,null,"Run Assistant"),n.createElement(E.a.Group,{inline:!0},n.createElement(E.a.Checkbox,{checked:e.useImages,onChange:()=>e.changeUseImages(!e.useImages),label:"Use Enemy Images",toggle:!0}),n.createElement(E.a.Checkbox,{checked:e.compactMode,onChange:()=>e.changeCompactMode(!e.compactMode),label:"Enemy Compact Mode",toggle:!0})),n.createElement(p.a,null,"Table"),n.createElement(E.a.Group,{widths:"equal",label:"Default Visible Columns"},e.columns.map((t,a)=>n.createElement(E.a.Checkbox,{key:t.key,checked:!1!==t.show,onChange:()=>e.changeColumnVisibility(a,!t.show),label:t.label}))),n.createElement(E.a.Group,null,n.createElement(E.a.Input,{type:"number",onChange:t=>e.changeRowFontSize(parseInt(t.currentTarget.value)),min:4,max:72,step:2,value:e.table.rowStyle.fontSize,label:"Font Size (px)"}),n.createElement(E.a.Input,{type:"number",onChange:t=>e.changeTableRowHeight(parseInt(t.currentTarget.value)),min:10,max:120,step:10,value:e.table.rowHeight,label:"Table Row Height (px)"}),n.createElement(E.a.Input,{type:"number",onChange:t=>e.changeTableHeaderHeight(parseInt(t.currentTarget.value)),min:10,max:120,step:10,value:e.table.headerHeight,label:"Header Row Height (px)"})),n.createElement(p.a,null,"Hotkeys"),n.createElement(E.a.Group,{widths:"equal"},n.createElement(ht,{key:"nextFight",action:"nextFight",label:"Next Fight",type:"text",changeHotkey:t=>e.changeHotkey("nextFight",t),hotkey:e.hotkeys.nextFight}),n.createElement(ht,{key:"prevFight",action:"prevFight",label:"Previous Fight",type:"text",changeHotkey:t=>e.changeHotkey("prevFight",t),hotkey:e.hotkeys.prevFight})),n.createElement(p.a,null,"Compact Enemy Button Hotkeys"),n.createElement(E.a.Group,{widths:"equal"},e.hotkeys.compactModeEnemyButtons.slice(0,3).map((t,a)=>n.createElement(ht,{key:"Enemy / Group ".concat(a+1),action:"Enemy / Group ".concat(a+1),label:"Enemy / Group ".concat(a+1),type:"text",changeHotkey:t=>e.changeCompactModeEnemyButtonsHotkey(a,t),hotkey:t.toString()}))),n.createElement(E.a.Group,{widths:"equal"},e.hotkeys.compactModeEnemyButtons.slice(3).map((t,a)=>n.createElement(ht,{key:"Enemy / Group ".concat(a+4),action:"Enemy / Group ".concat(a+4),label:"Enemy / Group ".concat(a+4),type:"text",changeHotkey:t=>e.changeCompactModeEnemyButtonsHotkey(a+3,t),hotkey:t.toString()}))),n.createElement(E.a.Group,{inline:!0},n.createElement(E.a.Button,{content:"Save Settings",primary:!0,onClick:()=>(e=>{window.localStorage.setItem("config",JSON.stringify({useImages:e.useImages,compactMode:e.compactMode,columns:e.columns,table:e.table,hotkeys:e.hotkeys}))})(e)}),n.createElement(E.a.Button,{content:"Reset to Default",onClick:()=>e.resetToDefault()}))))));function bt(){var e=Object($.a)([""]);return bt=function(){return e},e}var Et={jumpRNG:e=>({type:"JUMP_RNG",jump:e}),nextFight:()=>({type:"NEXT_FIGHT"}),previousFight:()=>({type:"PREVIOUS_FIGHT"}),findFight:_e,switchArea:e=>({type:"SWITCH_AREA",area:e}),togglePatternMode:()=>({type:"TOGGLE_PATTERN_MODE"})};class yt extends n.Component{constructor(...e){super(...e),this.handleHotkeyNextFight=e=>{"input"!==e.target.tagName.toLowerCase()&&e.key===this.props.hotkeys.nextFight&&this.props.nextFight()},this.handleHotkeyPrevFight=e=>{"input"!==e.target.tagName.toLowerCase()&&e.key===this.props.hotkeys.prevFight&&this.props.previousFight()}}componentDidMount(){document.addEventListener("keydown",this.handleHotkeyNextFight),document.addEventListener("keydown",this.handleHotkeyPrevFight)}componentWillUnmount(){document.removeEventListener("keydown",this.handleHotkeyNextFight),document.removeEventListener("keydown",this.handleHotkeyPrevFight)}render(){var e=this.props,t=e.areas,a=e.currentArea,r=e.compactMode;return n.createElement(u.a,{className:this.props.className},r?n.createElement(ot,null):n.createElement(mt,null),n.createElement(m.a,{style:{display:"flex",justifyContent:"space-between"}},n.createElement(N.a,{label:"Areas",placeholder:"Area",value:a,options:t.map(e=>({key:e,value:e,text:e})),onChange:(e,t)=>{this.props.switchArea(t.value)},selection:!0}),n.createElement(A.a,{style:{display:"flex",margin:"0 1em",alignItems:"center"},label:"Pattern Mode",checked:this.props.patternMode,onChange:()=>this.props.togglePatternMode()}),n.createElement(gt,{trigger:n.createElement(w.a,null,"Config")}),n.createElement("span",{style:{display:"flex",flex:1,justifyContent:"flex-end"}},n.createElement(w.a,{content:"+100",onClick:()=>this.props.jumpRNG(100)}),n.createElement(w.a,{content:"+500",onClick:()=>this.props.jumpRNG(500)}),n.createElement(w.a,{content:"+1000",onClick:()=>this.props.jumpRNG(1e3)}),n.createElement(w.a,{content:"Previous",onClick:()=>this.props.previousFight()}),n.createElement(w.a,{content:"Next",onClick:()=>this.props.nextFight()}))))}}var vt=Object(Ae.b)(e=>({areas:e.RunAssistant.areas.map(e=>e.name),currentArea:Le(e.RunAssistant).name,findNextFight:()=>{var t=function(e){return Ue(e,Pe(e).enemyGroup.name)}(e.RunAssistant);return t>-1?function(e,t){return ze(e)[t]}(e.RunAssistant,t):null},getCurrentFight:()=>Pe(e.RunAssistant),patternMode:e.RunAssistant.patternMode,compactMode:e.config.compactMode,hotkeys:e.config.hotkeys}),Et)(yt),xt=Object(Q.a)(vt)(bt()),Ot={useImages:!1,compactMode:!1,columns:[{label:"Area",key:"area",width:200,show:!1},{label:"Enemy Group",key:"enemyGroup",width:300,show:!0},{label:"Enemy Group Image",key:"enemyGroupImage",width:300,show:!1},{label:"Index",key:"index",width:100,show:!0},{label:"Run",key:"run",width:100,show:!0},{label:"Encounter RNG",key:"startRNG",width:150,show:!1},{label:"Battle RNG",key:"battleRNG",width:150,show:!0},{label:"Wheel Attempts",key:"wheel",width:150,show:!0},{label:"Champion Value",key:"champVal",width:150,show:!1}],table:{rowHeight:30,headerHeight:30,rowStyle:{fontSize:16}},hotkeys:{nextFight:"n",prevFight:"b",compactModeEnemyButtons:["1","2","3","4","5","6"]}},ft=Object(Me.a)({CHANGE_USE_IMAGES:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{useImages:t.useImages}),CHANGE_COMPACT_MODE:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{compactMode:t.compactMode}),CHANGE_COLUMN_VISIBILITY:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{columns:e.columns.map((e,a)=>a!==t.index?e:Object(j.a)(Object(j.a)({},e),{},{show:t.show}))}),CHANGE_TABLE_ROW_HEIGHT:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{table:Object(j.a)(Object(j.a)({},e.table),{},{rowHeight:t.height})}),CHANGE_TABLE_HEADER_HEIGHT:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{table:Object(j.a)(Object(j.a)({},e.table),{},{headerHeight:t.height})}),CHANGE_ROW_FONT_SIZE:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{table:Object(j.a)(Object(j.a)({},e.table),{},{rowStyle:Object(j.a)(Object(j.a)({},e.table.rowStyle),{},{fontSize:t.size})})}),CHANGE_HOTKEY:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{hotkeys:Object(j.a)(Object(j.a)({},e.hotkeys),{},{[t.action]:t.key})}),CHANGE_COMPACT_MODE_ENEMY_BUTTONS_HOTKEY:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{hotkeys:Object(j.a)(Object(j.a)({},e.hotkeys),{},{compactModeEnemyButtons:[...e.hotkeys.compactModeEnemyButtons.slice(0,t.index),t.key,...e.hotkeys.compactModeEnemyButtons.slice(t.index+1)]})}),RESET_TO_DEFAULT:(e,t)=>Ot},Ot),wt={compactEnemyButtonsGroupSize:null},jt=Object(Me.a)({SET_ENEMY_BUTTON_GROUP_SIZE:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{compactEnemyButtonsGroupSize:t.size}),FIND_FIGHT:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{compactEnemyButtonsGroupSize:null}),SWITCH_AREA:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{compactEnemyButtonsGroupSize:null}),RESET_TO_DEFAULT:(e,t)=>wt},wt),kt=Object(He.c)({RunAssistant:De,config:ft,controls:jt}),Ct=Object(Te.createLogger)({});class St extends n.Component{constructor(e){super(e);var t=new URLSearchParams(this.props.location.search),a=parseInt(t.get("rng")),n=parseInt(t.get("iterations")),r=parseInt(t.get("partylevel")),l=t.get("areas").split(",").map(e=>this.props.areas[e]),o="false"!==t.get("realistic"),s=l.map(e=>e.generateEncounters(new b.c(a),n,r,o)),c=null!==t.get("index")?parseInt(t.get("index")):0,i=window.localStorage.getItem("config");i=null===i?Ot:Object(j.a)(Object(j.a)(Object(j.a)({},Ot),JSON.parse(i)),{},{table:Object(j.a)(Object(j.a)(Object(j.a)({},Ot.table),JSON.parse(i).table),{},{rowStyle:Object(j.a)(Object(j.a)({},Ot.table.rowStyle),JSON.parse(i).table.rowStyle)}),hotkeys:Object(j.a)(Object(j.a)({},Ot.hotkeys),JSON.parse(i).hotkeys)});var u={RunAssistant:{currentArea:0,areas:l.map(e=>({name:e.name,enemies:e.encounterTable.map(e=>({name:e.name,enemies:e.enemies,champVal:e.champVal}))})),fightsList:s,index:c<s[0].length?c:0,pattern:[],patternMode:!1},config:i,controls:wt};this.state={store:Object(He.d)(kt,u,Object(He.a)(Ct))}}render(){return n.createElement(Ae.a,{store:this.state.store},n.createElement(n.Fragment,null,n.createElement(xt,null),n.createElement(Fe.a,{hidden:!0}),n.createElement(qe,null)))}}var Gt=Object(g.e)(St),Rt=(a(449),()=>n.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100vh"}},n.createElement(i,null),n.createElement(g.a,{path:"/",component:h,exact:!0}),n.createElement(g.a,{path:"/encounters",exact:!0,render:()=>n.createElement(O,{areas:b.a})}),n.createElement(g.a,{path:"/encounters/result",exact:!0,render:()=>n.createElement(P,{areas:b.a})}),n.createElement(g.a,{path:"/sequence",exact:!0,component:W}),n.createElement(g.a,{path:"/sequence/result",exact:!0,component:J}),n.createElement(g.a,{path:"/npc",exact:!0,component:Y}),n.createElement(g.a,{path:"/npc/result",exact:!0,component:X}),n.createElement(g.a,{path:"/drops",exact:!0,render:()=>n.createElement(z,{areas:b.a})}),n.createElement(g.a,{path:"/drops/result",exact:!0,render:()=>n.createElement(V,{areas:b.a})}),n.createElement(g.a,{path:"/rngfinder",render:()=>n.createElement(Ee,{areas:b.a})}),n.createElement(g.a,{path:"/experience",exact:!0,render:()=>n.createElement(Re,{areas:b.a})}),n.createElement(g.a,{path:"/runassist",exact:!0,render:()=>n.createElement(Ne,{areas:b.a})}),n.createElement(g.a,{path:"/runassist/result",exact:!0,render:()=>n.createElement(Gt,{areas:b.a})}))),It=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Nt(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{var t=e.installing;t&&(t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}a(450),a(451);l.render(n.createElement(o.a,null,n.createElement(Rt,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/Suikoden-RNG-Tool",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",()=>{var e="".concat("/Suikoden-RNG-Tool","/service-worker.js");It?function(e){fetch(e).then(t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):Nt(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e):Nt(e)})}}()}},[[279,1,2]]]);
//# sourceMappingURL=main.400ee2e6.chunk.js.map