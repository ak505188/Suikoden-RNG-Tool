(this["webpackJsonpsuikoden-rng-tool"]=this["webpackJsonpsuikoden-rng-tool"]||[]).push([[0],{264:function(e,t,a){var n=a(450),r=[];e.exports=function(){var e=new Worker(a.p+"8a43328c1f98fdade2dd.worker.js",{name:"[hash].worker.js"});return n(e,r),e}},283:function(e,t,a){e.exports=a(456)},451:function(e,t,a){},453:function(e,t,a){},456:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),s=a(22),c=a(474),o=[{name:"Home",path:"/"},{name:"Encounters",path:"/encounters"},{name:"RNG Sequence",path:"/sequence"},{name:"Stats",path:"/stats"},{name:"NPC Movements",path:"/npc"},{name:"Item Drops",path:"/drops"},{name:"RNG Finder",path:"/rngfinder"},{name:"Experience",path:"/experience"},{name:"Run Assistant",path:"/runassist"}],i=()=>n.createElement(c.a,{widths:o.length},o.map((e,t)=>n.createElement(c.a.Item,{as:s.c,exact:!0,key:t,name:e.name,to:e.path}))),u=a(465),m=a(475),p=a(476),h=()=>n.createElement(u.a,{text:!0},n.createElement(m.a,null,n.createElement(p.a,null,"About"),n.createElement("p",null,"This is a webapp dedicated to random number generation(RNG) manipulation in Suikoden 1. It's primary use is for routing and assisting a speedrun of the game.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement(s.b,{to:"/encounters"},"Encounter Tool")),n.createElement("p",null,"Calculate upcoming fights based off the RNG seed and area.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement(s.b,{to:"/sequence"},"RNG Sequence")),n.createElement("p",null,"Calculate the sequence of upcoming RNG seeds based off a RNG seed.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement(s.b,{to:"/stats"},"Stats")),n.createElement("p",null,"Generate stat growths for characters based on RNG and levels.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement(s.b,{to:"/drops"},"Item Drops")),n.createElement("p",null,"Calculate what RNG seeds drop items based off a starting RNG seed and enemy group.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement(s.b,{to:"/rngfinder"},"RNG Finder")),n.createElement("p",null,"Find (approximately) the current RNG seed based off a sequence of fights.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement(s.b,{to:"/runassist"},"Run Assistant")),n.createElement("p",null,"Tool to assist in implementing RNG manipulation strategies while speedrunning.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement("a",{href:"https://github.com/ak505188/SuikodenRNG-React/tree/master"},"Github Repository")),n.createElement("p",null,"This webapp's Github repository. README details how the game calculates most things RNG related."))),d=a(15),g=a(25),b=a(14),E=a(472),y=({value:e,onChange:t})=>n.createElement(E.a.Input,{label:"Initial RNG Value",name:"rng",type:"text",value:e,onChange:t}),v=({value:e,onChange:t})=>n.createElement(E.a.Input,{label:"Iterations",name:"iterations",step:"500",type:"number",value:e,onChange:t}),x=({value:e,onChange:t})=>n.createElement(E.a.Input,{label:"Party Level",name:"partylevel",type:"number",value:e,onChange:t}),O=Object(g.e)(({areas:e,history:t})=>{var a=Object(n.useState)(b.b.numToHexString(18)),l=Object(d.a)(a,2),s=l[0],c=l[1],o=Object(n.useState)(1e3),i=Object(d.a)(o,2),m=i[0],p=i[1],h=Object(n.useState)(0),g=Object(d.a)(h,2),O=g[0],w=g[1],f=Object(n.useState)(!0),j=Object(d.a)(f,2),k=j[0],S=j[1],C=Object(n.useState)([]),G=Object(d.a)(C,2),I=G[0],R=G[1];return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{onSubmit:e=>{e.preventDefault();var a=new URLSearchParams;a.append("rng",s),a.append("iterations",m),a.append("partylevel",O),a.append("realistic",k),a.append("areas",I),t.push("/encounters/result?".concat(a.toString()))},action:"result",size:"large"},r.a.createElement(y,{value:s,onChange:e=>c(e.target.value)}),r.a.createElement(v,{value:m,onChange:e=>p(e.target.value)}),r.a.createElement(x,{value:O,onChange:e=>w(e.target.value)}),r.a.createElement(E.a.Dropdown,{label:"Areas",placeholder:"Area",options:b.b.areaNamesWithRandomEncounters.map(t=>({key:t,value:t,text:e[t].name})),value:I,onChange:(e,t)=>R(t.value),multiple:!0,search:!0,selection:!0}),r.a.createElement(E.a.Checkbox,{label:"Realistic Mode",name:"realistic",checked:k,onChange:e=>S(e.target.checked)}),r.a.createElement(E.a.Button,{type:"submit",content:"Generate Encounters",primary:!0})))}),w=a(99),f=a(457),j=a(7),k={lineHeight:1},S=e=>{var t=e.columns.reduce((e,t)=>(!1!==t.show&&e.push(t),e),[]),a=e.width/t.reduce((e,t)=>e+t.width,0),r=e.rowStyle?Object(j.a)(Object(j.a)({},k),e.rowStyle):k;return n.createElement(w.c,{headerHeight:e.headerHeight,height:e.height,onRowClick:({index:t})=>{e.onRowClick&&e.onRowClick(t)},rowCount:e.data.length,rowGetter:({index:t})=>e.data[t],rowHeight:e.rowHeight,rowStyle:({index:t})=>void 0!==e.currentRow&&e.currentRow===t?Object(j.a)(Object(j.a)({},r),{},{backgroundColor:"yellow"}):r,scrollToIndex:e.currentRow,scrollToAlignment:"start",width:e.width},t.map(e=>n.createElement(w.b,{cellRenderer:({cellData:e})=>null===e?"":n.isValidElement(e)?e:String(e),key:e.key,label:e.label,dataKey:e.key,width:a*e.width})))},C=a(467),G=a(171),I=a.n(G);class R extends n.Component{constructor(e){super(e),this.filter=()=>{this.setState({filtering:!0},()=>{this.state.searchApi.search(this.state.filter).then(e=>{this.props.setRowsToRender(e),this.setState({filtering:!1})}).catch(e=>console.error(e))})},this.state={searchApi:new I.a({tokenizePattern:/,/}),filter:"",filtering:!1}}componentDidMount(){this.indexData(this.props.data)}componentDidUpdate(e){b.b.arraysEqual(this.props.data,e.data)||(this.state.searchApi._search._worker.terminate(),this.setState({searchApi:new I.a({tokenizePattern:/,/})},()=>{this.indexData(this.props.data),this.filter()}))}indexData(e){for(var t=0;t<e.length;t++){var a=JSON.stringify(e[t]).replace(/{|}/g,"").replace(/"[^,]*?":/g,"").replace(/"/g,"").trim();this.state.searchApi.indexDocument(t,a)}}render(){return n.createElement(C.a,{placeholder:"Filter",loading:this.state.filtering,type:"text",onChange:e=>this.setState({filter:e.currentTarget.value},()=>this.filter()),value:this.state.filter})}}var N=a(473),A=a(466),T=e=>n.createElement(N.a,{selection:!0,text:"Columns",options:e.columns.map((t,a)=>n.createElement(A.a,{as:N.a.Item,key:t.key,label:t.label,onMouseDown:t=>{t.preventDefault(),e.toggleColumn(a)},checked:!1!==e.columns[a].show}))}),H=a(471),F=a(251),D=a.n(F),M=e=>{var t=Object(n.useState)("csv"),a=Object(d.a)(t,2),l=a[0],s=a[1],c=Object(n.useState)(""),o=Object(d.a)(c,2),i=o[0],u=o[1],m=(e,{value:t})=>s(t),p=Object(n.useState)(""),h=Object(d.a)(p,2),g=h[0],b=h[1],y=()=>{if("csv"===l){var t=e.columns.filter(e=>!1!==e.show),a=[];a.push(t.map(e=>e.label).join());var n=e.data.map(e=>{var a=[];return t.forEach(t=>a.push(e[t.key])),a.join()}).join("\r\n");return a.push(n),a.join("\r\n")}return JSON.stringify(e.data,null,2)};return r.a.createElement(H.a,{trigger:e.trigger},r.a.createElement(H.a.Header,null,"Export Table"),r.a.createElement(H.a.Content,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Group,{inline:!0},r.a.createElement(E.a.Radio,{label:"CSV",value:"csv",checked:"csv"===l,onChange:m}),r.a.createElement(E.a.Radio,{label:"JSON",value:"json",checked:"json"===l,onChange:m}),r.a.createElement(E.a.Button,{color:"green",content:"Copy to Clipboard",onClick:()=>{var e=y();navigator.clipboard.writeText(e).then(()=>u("Copied!"),()=>u("Failure.")),setTimeout(()=>u(""),3e3)}}),r.a.createElement("span",null,i)),r.a.createElement(E.a.Group,{inline:!0},r.a.createElement(E.a.Input,{label:"Filename",type:"text",placeholder:"Filename",value:g,onChange:e=>b(e.target.value)}),r.a.createElement(E.a.Button,{content:"Download",primary:!0,onClick:()=>{var e=y(),t=new Blob([e],{type:"json"===l?"application/json;charset=utf-8":"text/csv;charset=utf-8;"});D.a.saveAs(t,"".concat(g,".").concat(l))}})))))},L=e=>e.map((e,t)=>t);class _ extends n.Component{constructor(e){super(e),this.state={rowsToRender:L(e.data),columns:e.columns}}componentDidUpdate(e){var t=this.props.filterFromData?e.data.map(e=>b.b.filterPropertiesFromObject(e,this.props.filterFromData)):e.data,a=this.props.filterFromData?this.props.data.map(e=>b.b.filterPropertiesFromObject(e,this.props.filterFromData)):this.props.data;b.b.arraysEqual(t,a)||this.setState({rowsToRender:L(this.props.data)})}render(){var e=this.state.rowsToRender.map(e=>this.props.data[e]),t=this.props.filterFromData?this.props.data.map(e=>b.b.filterPropertiesFromObject(e,this.props.filterFromData)):this.props.data;return n.createElement(w.a,null,({height:a,width:r})=>n.createElement(n.Fragment,null,n.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:r,height:38}},!1!==this.props.filter?n.createElement("div",{style:{marginRight:"auto"}},n.createElement(R,{data:void 0!==this.props.filterFromData?t:this.props.data,setRowsToRender:e=>this.setState({rowsToRender:e})})):null,n.createElement(M,{columns:this.state.columns,data:e,trigger:n.createElement(f.a,{primary:!0},"Export")}),n.createElement(T,{columns:this.state.columns,toggleColumn:e=>{var t=this.state.columns;t[e].show=!1===t[e].show,this.setState({columns:t})}})),n.createElement(S,Object.assign({},this.props,{currentRow:this.props.currentRow,columns:this.state.columns,data:e,height:a-38,width:r,headerHeight:this.props.headerHeight||30,rowHeight:this.props.rowHeight||30,rowStyle:this.props.rowStyle||{}}))))}}var P=e=>n.createElement(_,{columns:[{label:"Area",key:"area",width:200},{label:"Enemy Group",key:"enemy",width:300},{label:"Index",key:"index",width:100},{label:"Run",key:"run",width:100},{label:"Encounter RNG",key:"startRNG",width:150},{label:"Battle RNG",key:"battleRNG",width:150},{label:"Wheel Attempts",key:"wheel",width:150},{label:"Champion Value",key:"champVal",width:150,show:!1},{label:"Is Battle Value",key:"isBattleValue",width:150,show:!1}],data:e.encounters}),B=Object(g.e)(({areas:e,location:t})=>{var a=new URLSearchParams(t.search),n=parseInt(a.get("rng")),l=parseInt(a.get("iterations")),s=parseInt(a.get("partylevel")),c=a.get("areas").split(",").map(t=>e[t]),o="true"===a.get("realistic"),i=c.map(e=>e.generateEncounters(new b.c(n),l,s,o)).reduce((e,t)=>e.concat(t),[]).map(e=>({area:e.area,enemy:e.enemyGroup.name,index:e.index,run:e.run?"Run":"Fail",startRNG:b.b.numToHexString(e.startRNG),battleRNG:b.b.numToHexString(e.battleRNG),wheel:e.wheel,champVal:e.enemyGroup.champVal,isBattleValue:e.isBattleValue})).sort((e,t)=>e.index!==t.index?e.index-t.index:e.area<t.area?-1:1);return r.a.createElement(u.a,{style:{flex:1},textAlign:"center"},r.a.createElement(P,{encounters:i}))}),U=Object(g.e)(({areas:e,history:t})=>{var a=Object(n.useState)(b.b.numToHexString(18)),l=Object(d.a)(a,2),s=l[0],c=l[1],o=Object(n.useState)(1e3),i=Object(d.a)(o,2),m=i[0],p=i[1],h=Object(n.useState)("Cave of the Past"),g=Object(d.a)(h,2),x=g[0],O=g[1],w=Object(n.useState)(0),f=Object(d.a)(w,2),j=f[0],k=f[1];return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{size:"large",onSubmit:e=>{e.preventDefault();var a=new URLSearchParams;a.append("rng",s),a.append("iterations",m),a.append("area",x),a.append("enemyGroup",j),t.push("/drops/result?".concat(a.toString()))}},r.a.createElement(y,{value:s,onChange:e=>c(e.target.value)}),r.a.createElement(v,{value:m,onChange:e=>p(e.target.value)}),r.a.createElement(E.a.Dropdown,{label:"Area",placeholder:"Area",options:Object.keys(e).map(t=>({key:t,value:t,text:e[t].name})),value:x,onChange:(e,t)=>O(t.value),search:!0,selection:!0}),r.a.createElement(E.a.Dropdown,{label:"Enemy Group",placeholder:"Enemy Group",options:e[x].encounterTable.map((e,t)=>({key:e.name,value:t,text:e.name})),value:j,onChange:(e,t)=>k(t.value),search:!0,selection:!0}),r.a.createElement(E.a.Button,{type:"submit",content:"Calculate Drops",primary:!0})))}),z=({drops:e})=>n.createElement(_,{data:e,columns:[{label:"Index",key:"index",width:100},{label:"Drop",key:"drop",width:300},{label:"RNG",key:"rng",width:150}]}),W=Object(g.e)(({areas:e,location:t})=>{var a=new URLSearchParams(t.search),n=new b.c(parseInt(a.get("rng"))),l=parseInt(a.get("iterations")),s=e[a.get("area")].encounterTable[a.get("enemyGroup")].calculateDrops(n,l).map((e,t)=>({drop:e.drop,index:t,rng:b.b.numToHexString(e.rng)}));return r.a.createElement(u.a,{style:{flex:1},textAlign:"center"},r.a.createElement(z,{drops:s}))}),V=Object(g.e)(({history:e})=>{var t=Object(n.useState)(b.b.numToHexString(18)),a=Object(d.a)(t,2),l=a[0],s=a[1],c=Object(n.useState)(1e3),o=Object(d.a)(c,2),i=o[0],m=o[1];return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{size:"large",onSubmit:t=>{t.preventDefault();var a=new URLSearchParams;a.append("rng",l),a.append("iterations",i),e.push("/sequence/result?".concat(a.toString()))}},r.a.createElement(y,{value:l,onChange:e=>s(e.target.value)}),r.a.createElement(v,{value:i,onChange:e=>m(e.target.value)}),r.a.createElement(E.a.Button,{type:"submit",content:"Calculate Sequence",primary:!0})))}),q=({sequence:e})=>n.createElement(_,{columns:[{key:"index",label:"Index",width:100},{key:"rng",label:"RNG",width:150},{key:"wheelAttempts",label:"Wheel Attempts",width:200,show:!1},{key:"cliveAppearance",label:"Clive Appearance",width:200,show:!1},{key:"marieText",label:"Marie Dialogue",width:200,show:!1}],data:e}),K=Object(g.e)(({location:e})=>{for(var t=new URLSearchParams(e.search),a=new b.c(parseInt(t.get("rng"))),n=parseInt(t.get("iterations")),l=[],s=[],c=[],o=[],i=0;i<n;i++)l.push(a.toString()),s.push(b.c.getWheelAttempts(a.clone().next())),c.push(a.isMarieDialogue()?"Antonio Dialogue":"No Dialogue"),o.push(a.isCliveAppearance()?"Clive":"No Clive"),a.next();return r.a.createElement(u.a,{style:{flex:1},textAlign:"center"},r.a.createElement(q,{sequence:l.map((e,t)=>({rng:e,index:t,wheelAttempts:s[t],marieText:c[t],cliveAppearance:o[t]}))}))}),J=Object(g.e)(({history:e})=>{var t=Object(n.useState)(b.b.numToHexString(18)),a=Object(d.a)(t,2),l=a[0],s=a[1],c=Object(n.useState)(1e3),o=Object(d.a)(c,2),i=o[0],m=o[1],p=Object(n.useState)(1),h=Object(d.a)(p,2),g=h[0],x=h[1];return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{onSubmit:t=>{t.preventDefault();var a=new URLSearchParams;a.append("rng",l),a.append("iterations",i),a.append("npcs",g),e.push("/npc/result?".concat(a.toString()))}},r.a.createElement(y,{value:l,onChange:e=>s(e.target.value)}),r.a.createElement(v,{value:i,onChange:e=>m(e.target.value)}),r.a.createElement(E.a.Input,{label:"Number of NPCs",name:"npcs",step:"1",type:"number",value:g,onChange:e=>x(e.target.value)}),r.a.createElement(E.a.Button,{type:"submit",content:"Calculate NPC Movements",primary:!0})))}),Y=({NPCInfo:e})=>n.createElement(_,{columns:[{key:"index",label:"Index",width:100},{key:"npc",label:"NPC #",width:50},{key:"direction",label:"Direction",width:150},{key:"rng",label:"RNG",width:150}],data:e});function Z(e){switch(e%4){case 0:return"Down";case 1:return"Up";case 2:return"Left";case 3:return"Right";default:return"?"}}var X=Object(g.e)(({location:e})=>{for(var t=new URLSearchParams(e.search),a=new b.c(parseInt(t.get("rng"))),r=parseInt(t.get("iterations")),l=parseInt(t.get("npcs")),s=[],c=0,o=0;o<r;o++){var i="",m=o;a.getRNG2()<203?(a.next(),o++,i="Previous Movement",b.b.div32ulo(a.getRNG2(),8191)>0&&(a.next(),o++,i=Z(b.b.div32ulo(a.getRNG2(),6553))),s.push({index:m,rng:b.b.numToHexString(a.getRNG()),direction:i,npc:c+1})):c=(c+1)%l,a.next()}return n.createElement(u.a,{style:{flex:1},textAlign:"center"},n.createElement(Y,{NPCInfo:s}))}),$=a(32),Q=a(33);function ee(){var e=Object($.a)(["\n  &&& {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin-bottom: 1em;\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object($.a)(["\n  &&& {\n    border: 1px solid rgba(34,36,38,.15);\n    border-radius: .28571429rem;\n    width: 100%;\n    flex: 1;\n  }\n"]);return te=function(){return e},e}function ae(){var e=Object($.a)(["\n  &&& {\n    margin: 0 0 .28571429rem 0;\n    color: rgba(0,0,0,.87);\n    font-size: .92857143em;\n    font-weight: 700;\n    text-transform: none;\n  }\n"]);return ae=function(){return e},e}function ne(){var e=Object($.a)(["\n  &&& {\n    width: 49.75%;\n    display: flex;\n    flex-direction: column;\n  }\n"]);return ne=function(){return e},e}function re(){var e=Object($.a)(["\n  &&& {\n    width: 100%;\n    border: 0;\n    border-radius: .28571429rem;\n    background-color: white;\n    color: black;\n  }\n"]);return re=function(){return e},e}var le=Q.a.button(re()),se=Q.a.div(ne()),ce=Q.a.label(ae()),oe=Q.a.div(te()),ie=Q.a.div(ee());class ue extends n.Component{constructor(...e){super(...e),this.handleClick=(e,t)=>{t.preventDefault(),this.props.click(e,t)}}render(){return n.createElement(se,null,n.createElement(ce,null,this.props.label),n.createElement(oe,null,this.props.list.map((e,t)=>n.createElement(le,{onClick:this.handleClick.bind(this,t),key:t,value:t},this.props.optionNames?this.props.optionNames[t]:e))))}}class me extends n.Component{constructor(...e){super(...e),this.addItem=(e,t)=>{this.props.handleChange([...this.props.list,parseInt(t.currentTarget.value)])},this.removeItem=(e,t)=>{this.props.handleChange([...this.props.list.slice(0,e),...this.props.list.slice(e+1)])}}render(){return n.createElement(ie,null,n.createElement(ue,{list:this.props.options,label:"Add Enemies",click:this.addItem}),n.createElement(ue,{label:"Remove Enemies",list:this.props.list.map((e,t)=>this.props.options[e]),click:this.removeItem}))}}var pe=a(468),he=({cancel:e,message:t,progress:a,done:r,result:l,running:s})=>n.createElement(u.a,{textAlign:"center"},l&&n.createElement(m.a,null,n.createElement("p",null,"First Battle RNG: ",b.b.numToHexString(l.foundEncounterRNG)),n.createElement("p",null,"Previous Battle RNG: ",b.b.numToHexString(l.foundEncounterRNGPrevious))),n.createElement(pe.a,{percent:r?100:a,progress:!0,indicating:!0,label:t}),n.createElement(f.a,{type:"button",onClick:e,content:"Terminate",negative:!0,disabled:!s})),de=a(264),ge=a.n(de),be={progress:0,message:"",done:!1},Ee=({areas:e})=>{var t=Object(n.useState)(b.b.numToHexString(18)),a=Object(d.a)(t,2),l=a[0],s=a[1],c=Object(n.useState)(b.b.areaNamesWithRandomEncounters[0]),o=Object(d.a)(c,2),i=o[0],m=o[1],p=Object(n.useState)([]),h=Object(d.a)(p,2),g=h[0],v=h[1],x=Object(n.useState)(!1),O=Object(d.a)(x,2),w=O[0],f=O[1],j=Object(n.useState)(be),k=Object(d.a)(j,2),S=k[0],C=k[1],G=Object(n.useState)(),I=Object(d.a)(G,2),R=I[0],N=I[1],A=()=>{R.terminate(),N(void 0)};return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{size:"large",onSubmit:()=>(t=>{if(!(g.length<2)){void 0!==R&&A();var a=new ge.a,n=e[i],r={areaType:n.areaType,tableLength:n.encounterTable.length,encounterRate:n.encounterRate};a.onmessage=e=>{var t=e.data,a=t.done,n=t.message,r=t.progress,l=t.result;C({done:a,message:n,progress:r,result:l}),f(!a)},N(a),f(!0),a.postMessage({workerParams:r,encounters:g,rng:parseInt(l)})}})()},r.a.createElement(y,{value:l,onChange:e=>s(b.b.numToHexString(e.target.value))}),r.a.createElement(E.a.Dropdown,{label:"Areas",placeholder:"Area",options:b.b.areaNamesWithRandomEncounters.map(t=>({key:t,value:t,text:e[t].name})),value:i,onChange:(e,t)=>{var a=t.value;v(a===i?g:[]),m(a)},search:!0,selection:!0}),r.a.createElement(me,{handleChange:e=>v(e),list:g,options:e[i].encounterTable.map(e=>e.name)}),r.a.createElement(E.a.Button,{style:{marginBottom:"1em"},type:"submit",content:"Find RNG Seed",primary:!0})),""!==S.message&&r.a.createElement(he,Object.assign({running:w,cancel:e=>{e.preventDefault(),f(!1),C(be),A()}},S)))},ye=a(176),ve=a(265),xe=a.n(ve),Oe=({enemyGroupName:e,index:t,partySize:a,onPartySizeChange:n,onSelectedFightDelete:l})=>r.a.createElement("span",{className:"experience-selected-fight-container"},r.a.createElement("span",{className:"experience-remove-fight",onClick:l},"X"),r.a.createElement("input",{className:"experience-party-size",type:"number",min:"0",max:"6",value:a,onChange:e=>n(e.target.value,t)}),r.a.createElement("span",{className:"experience-fight-name"},e)),we=Object(ye.b)(({value:e,listItemHandlers:t,sortIndex:a})=>r.a.createElement(le,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(Oe,{enemyGroupName:e.enemyGroup.name,partySize:e.partySize,onPartySizeChange:t.onPartySizeChange,index:a,onSelectedFightDelete:()=>t.onSelectedFightDelete(a)}))),fe=Object(ye.a)(({list:e,listItemHandlers:t})=>r.a.createElement(oe,null,e.map((e,a)=>r.a.createElement(we,{key:"item-".concat(a),index:a,sortIndex:a,value:e,listItemHandlers:t,render:e})))),je=e=>r.a.createElement(se,null,r.a.createElement(ce,null,e.label," (Hold to drag)"),r.a.createElement(fe,{list:e.list,listItemHandlers:e.listItemHandlers,pressDelay:100,onSortEnd:({oldIndex:t,newIndex:a})=>{var n=xe()(e.list,t,a);e.handleDrag(n)},onClick:e.onClick,lockAxis:"y"})),ke=a(174),Se=a.n(ke);Se.a.config({DECIMAL_PLACES:3,ROUNDING_MODE:1});var Ce=[1,2,3,5,7,10,15,20,30,50,70,90,120,160,200,400,900,1600,2600,3900,5100,6e3,6900,7500,8e3,8500,9e3,9300,9700,1e4],Ge=Object(g.e)(({levels:e,fights:t})=>{var a=e.map(e=>{var a=parseFloat(e);return t.reduce((e,t)=>{var a=parseInt(t.partySize);return 0===a?e:new Se.a(t.levels.reduce((t,a)=>{var n=Math.ceil(a-e);return n>14?n=15:n<-13&&(n=-14),t+Ce[n+14]/1e3},0)).dividedBy(a).plus(e).toFormat(3)},a)});return r.a.createElement(u.a,{style:{flex:1},textAlign:"center"},a.map((t,a)=>r.a.createElement("div",{key:"".concat(t,"-").concat(a)},e[a]," : ",t)))}),Ie=(a(451),Object(g.e)(({areas:e})=>{var t=Object(n.useState)("24.165"),a=Object(d.a)(t,2),l=a[0],s=a[1],c=Object(n.useState)("Cave of the Past"),o=Object(d.a)(c,2),i=o[0],m=o[1],p=Object(n.useState)([]),h=Object(d.a)(p,2),g=h[0],b=h[1];return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{size:"large"},r.a.createElement(E.a.Input,{label:"Character Level",type:"text",value:l,min:1,max:99,step:.001,onChange:e=>s(e.target.value)}),r.a.createElement(E.a.Dropdown,{label:"Areas",placeholder:"Area",options:Object.keys(e).map(t=>({key:t,value:t,text:e[t].name})),value:i,onChange:(e,t)=>m(t.value),multiple:!1,search:!0,selection:!0}),r.a.createElement(ie,null,r.a.createElement(ue,{label:"Add Fight",click:t=>b([...g,{partySize:6,enemyGroup:e[i].encounterTable[t]}]),list:e[i].encounterTable,optionNames:e[i].encounterTable.map(e=>e.name)}),r.a.createElement(je,{label:"Selected Fights",onClick:e=>b([...g.slice(0,e),...g.slice(e+1)]),handleDrag:e=>b(e),listItemHandlers:{onPartySizeChange:(e,t)=>{b(a=>[...a.slice(0,t),{partySize:e,enemyGroup:a[t].enemyGroup},...a.slice(t+1)])},onSelectedFightDelete:e=>b(t=>[...t.slice(0,e),...t.slice(e+1)])},list:g}))),r.a.createElement(Ge,{levels:l.split(","),fights:g.map(e=>({partySize:e.partySize,levels:e.enemyGroup.enemies.map(e=>e.stats.lvl)}))}))}));class Re extends n.Component{constructor(e){super(e),this.handleInputChange=(e,{checked:t,name:a,value:n})=>{this.setState(e=>Object(j.a)(Object(j.a)({},e),{},{[a]:t||n}))},this.handleAreaChange=(e,t)=>{this.setState({areas:t.value})},this.handleSubmit=e=>{e.preventDefault();var t=new URLSearchParams;Object.keys(this.state).forEach(e=>{t.append(e,this.state[e])}),this.props.history.push("/runassist/result?".concat(t.toString()))},this.state={rng:b.b.numToHexString(18),iterations:1e3,partylevel:0,realistic:!0,areas:[]}}render(){return n.createElement(u.a,{textAlign:"center"},n.createElement(E.a,{size:"large",onSubmit:this.handleSubmit},n.createElement(E.a.Input,{label:"Initial RNG Value",name:"rng",type:"text",value:this.state.rng,onChange:this.handleInputChange}),n.createElement(E.a.Input,{label:"Iterations",name:"iterations",type:"number",step:500,value:this.state.iterations,onChange:this.handleInputChange}),n.createElement(E.a.Input,{label:"Party Level",name:"partylevel",type:"number",value:this.state.partylevel,onChange:this.handleInputChange}),n.createElement(E.a.Dropdown,{label:"Areas",placeholder:"Area",options:b.b.areaNamesWithRandomEncounters.map(e=>({key:e,value:e,text:this.props.areas[e].name})),value:this.state.areas,onChange:this.handleAreaChange,multiple:!0,search:!0,selection:!0}),n.createElement(E.a.Checkbox,{label:"Realistic Mode",name:"realistic",checked:this.state.realistic,onChange:this.handleInputChange}),n.createElement(E.a.Button,{type:"submit",content:"Generate Encounters",primary:!0})))}}var Ne=Object(g.e)(Re),Ae=a(40),Te=a(74),He=a(267),Fe=a(469),De=e=>({type:"FIND_FIGHT",name:e}),Me=a(470);var Le=Object(Me.a)({SWITCH_AREA:(e,t)=>{var a=e.areas.map(e=>e.name).findIndex(e=>t.area===e),n=Be(e).index;if(-1===a)return e;var r=e.index;for(e.fightsList[a].length<=r&&(r=e.fightsList[a].length-1);e.fightsList[a][r].index>n&&r>0;)r--;for(;e.fightsList[a][r].index<n&&r<e.fightsList[a].length-1;)r++;return Object(j.a)(Object(j.a)({},e),{},{currentArea:a,pattern:[],index:r})},PREVIOUS_FIGHT:(e,t)=>0!==e.index?Object(j.a)(Object(j.a)({},e),{},{pattern:[],index:e.index-1}):e,NEXT_FIGHT:(e,t)=>e.index<Ue(e).length-1?Object(j.a)(Object(j.a)({},e),{},{pattern:[],index:e.index+1}):e,SELECT_FIGHT:(e,t)=>t.index<Ue(e).length-1?Object(j.a)(Object(j.a)({},e),{},{pattern:[],index:t.index}):e,FIND_FIGHT:(e,t)=>{if(!e.patternMode){var a=ze(e,t.name);return a=-1!==a?a:e.index,Object(j.a)(Object(j.a)({},e),{},{pattern:[],index:a})}var n=_e(e),r=We(t.name,n.enemies),l=e.pattern.concat([r]),s=Math.max(0,e.index-l.length+2),c=Ue(e).map(e=>We(e.enemyGroup.name,n.enemies)).slice(s);if(l.length>1){var o=b.b.encounterSequenceToString(c).search(b.b.encounterSequenceToString(l));return o>=0?Object(j.a)(Object(j.a)({},e),{},{pattern:l,index:s+o+l.length-1}):e}var i=ze(Object(j.a)(Object(j.a)({},e),{},{index:s}),t.name);return Object(j.a)(Object(j.a)({},e),{},{pattern:l,index:-1!==i?i:s})},JUMP_RNG:(e,t)=>{var a=function(e,t){for(var a=0;a<e.length;a++)if(e[a].index>t)return a;return e.length-1}(Ue(e),Be(e).index+t.jump);return Object(j.a)(Object(j.a)({},e),{},{pattern:[],index:a})},TOGGLE_PATTERN_MODE:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{patternMode:!e.patternMode})},{currentArea:0,areas:[],fightsList:[],index:0,pattern:[],patternMode:!1});function _e(e){return e.areas[e.currentArea]}function Pe(e){return _e(e).enemies}function Be(e){return e.fightsList[e.currentArea][e.index]}function Ue(e){return e.fightsList[e.currentArea]}function ze(e,t){return Ue(e).findIndex((a,n)=>a.enemyGroup.name===t&&n>e.index)}function We(e,t){return t.findIndex(t=>t.name===e)}var Ve={selectFight:e=>({type:"SELECT_FIGHT",index:e})},qe=Object(Ae.b)(e=>({fights:Ue(e.RunAssistant),currentRow:e.RunAssistant.index,columns:e.config.columns,headerHeight:e.config.table.headerHeight,rowHeight:e.config.table.rowHeight,rowStyle:Object(j.a)(Object(j.a)({},e.config.table.rowStyle),{},{fontSize:"".concat(e.config.table.rowStyle.fontSize,"px")})}),Ve)(e=>{var t=e.columns,a=e.fights.map(t=>Object(j.a)(Object(j.a)({},t),{},{enemyGroup:t.enemyGroup.name,enemyGroupImage:n.createElement("div",{style:{height:e.rowHeight},className:"enemyGroupImage"},t.enemyGroup.enemies.map((t,a)=>n.createElement("img",{style:{height:e.rowHeight},className:"enemyImage",alt:"",key:a,src:"data:image/png;base64, ".concat(t.img)}))),run:t.run?"Run":"Fail",startRNG:b.b.numToHexString(t.startRNG),battleRNG:b.b.numToHexString(t.battleRNG),champVal:t.enemyGroup.champVal}));return n.createElement(u.a,{textAlign:"center",style:{display:"block",height:"100%"}},n.createElement(_,{currentRow:e.currentRow,columns:t,data:a,filter:!0,filterFromData:["enemyGroupImage"],headerHeight:e.headerHeight,onRowClick:t=>e.selectFight(t),rowHeight:e.rowHeight,rowStyle:e.rowStyle}))});function Ke(){var e=Object($.a)(["\n  &&&&& {\n    height: 60px;\n    margin: 0 2px;\n    flex: 1;\n    border: none;\n    border-radius: .28571429rem;\n    padding: 2px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"]);return Ke=function(){return e},e}function Je(){var e=Object($.a)(["\n  &&&&& {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 60px;\n    flex: 1;\n    margin: 0 2px;\n  }\n"]);return Je=function(){return e},e}function Ye(){var e=Object($.a)(["\n  &&&&& {\n    height: 60px;\n    width: 100%;\n    margin: 2px 0;\n    flex: 0 0 auto;\n    border: none;\n    border-radius: .28571429rem;\n    padding: 2px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"]);return Ye=function(){return e},e}function Ze(){var e=Object($.a)(["\n  &&&&& {\n    width: 100%;\n    flex: 0 0 auto;\n    margin: 2px 0;\n  }\n"]);return Ze=function(){return e},e}function Xe(){var e=Object($.a)(["\n  padding: 0 2px;\n  max-height: 56px;\n"]);return Xe=function(){return e},e}var $e=Q.a.img(Xe()),Qe=Q.a.button(Ze()),et=Q.a.div(Ye()),tt=Q.a.div(Je()),at=Q.a.div(Ke()),nt=e=>{var t=e.useImages,a=e.enemyGroup;return t?n.createElement(at,Object.assign({className:"ui button",role:"button"},e),a.enemies.map((e,t)=>n.createElement($e,{key:t,src:e.img}))):n.createElement(tt,Object.assign({className:"ui button",role:"button"},e),a.name)},rt=e=>{var t=e.useImages,a=e.enemyGroup;return t?n.createElement(et,Object.assign({className:"ui button",role:"button"},e),a.enemies.map((e,t)=>n.createElement($e,{key:t,src:"data:image/png;base64, ".concat(e.img)}))):n.createElement(Qe,Object.assign({className:"ui button",role:"button"},e),a.name)},lt={findFight:De,setEnemyButtonGroupSize:e=>({type:"SET_ENEMY_BUTTON_GROUP_SIZE",size:e})},st=Object(Ae.b)(e=>({enemies:Pe(e.RunAssistant),useImages:e.config.useImages,patternMode:e.RunAssistant.patternMode,groupSize:e.controls.compactEnemyButtonsGroupSize,hotkeys:e.config.hotkeys.compactModeEnemyButtons}),lt)(({enemies:e,findFight:t,groupSize:a,hotkeys:l,setEnemyButtonGroupSize:s,useImages:c})=>{var o=e.reduce((e,t)=>{var a=t.enemies.length;return e.includes(a)||e.push(a),e},[]).sort(),i=e.reduce((e,t)=>(e[t.enemies.length].push(t),e),{1:[],2:[],3:[],4:[],5:[],6:[]}),p=Object(n.useCallback)(e=>{t(e.name)},[t]),h=Object(n.useCallback)(e=>{1===i[e].length?t(i[e][0].name):i[e].length>0&&s(e)},[i,t,s]),d=Object(n.useCallback)(e=>{null===a?h(e+1):e<i[a].length&&p(i[a][e])},[i,a,p,h]);return Object(n.useEffect)(()=>{var e=e=>{if("input"!==e.target.tagName.toLowerCase()){var t=l.indexOf(e.key);-1!==t&&d(t)}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[l,d]),r.a.createElement(u.a,{style:{width:"100%"}},r.a.createElement(m.a,null,r.a.createElement(f.a.Group,{style:{width:"100%",margin:"2px"}},null===a?o.map(e=>r.a.createElement("button",{key:e,style:{height:"60px",margin:"0 2px",flex:1},className:"ui button",onClick:()=>h(e)},e)):i[a].map(e=>r.a.createElement(nt,{key:e.name,useImages:c,enemyGroup:e,onClick:()=>p(e)})))))});function ct(){var e=Object($.a)(["\n  display: flex;\n  justify-content: space-around;\n"]);return ct=function(){return e},e}var ot=Q.a.div(ct()),it=({enemiesByEnemyCount:e,useImages:t,enemyButtonOnClick:a})=>n.createElement(u.a,{style:{width:"100%"}},n.createElement(m.a,null,n.createElement(ot,null,e.map((e,r)=>n.createElement(f.a.Group,{style:{width:"100%",margin:"2px"},vertical:!0,key:r},e.map(e=>n.createElement(rt,{key:e.name,useImages:t,enemyGroup:e,onClick:()=>a(e.name)}))))))),ut={findFight:De},mt=Object(Ae.b)(e=>({enemies:Pe(e.RunAssistant),useImages:e.config.useImages,patternMode:e.RunAssistant.patternMode}),ut)(e=>{var t=e.enemies.reduce((e,t)=>{var a=t.enemies.length-1;return void 0===e[a]&&(e[a]=[]),e[a].some(e=>t.name===e.name)||e[a].push(t),e},new Array(6)).reduce((e,t)=>(void 0===t||(t.length>1&&t.sort((e,t)=>e.name<t.name?-1:1),e.push(t)),e),[]);return n.createElement(it,{enemiesByEnemyCount:t,useImages:e.useImages,enemyButtonOnClick:t=>e.findFight(t)})}),pt=a(271),ht=e=>{var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],s=a[1],c=e.action,o=e.hotkey,i=e.changeHotkey,u=Object(pt.a)(e,["action","hotkey","changeHotkey"]);return Object(n.useEffect)(()=>{document.getElementById(c).addEventListener("focus",()=>s(!0)),document.getElementById(c).addEventListener("blur",()=>s(!1)),document.getElementById(c).addEventListener("keypress",e=>{i(e.key.toLowerCase()),s(!1)})},[c,i]),r.a.createElement(E.a.Input,Object.assign({id:e.action,value:l?"Press key to bind.":o.toLowerCase()},u))},dt={changeUseImages:e=>({type:"CHANGE_USE_IMAGES",useImages:e}),changeCompactMode:e=>({type:"CHANGE_COMPACT_MODE",compactMode:e}),changeColumnVisibility:(e,t)=>({type:"CHANGE_COLUMN_VISIBILITY",index:e,show:t}),changeColumnWidth:(e,t)=>({type:"CHANGE_COLUMN_WIDTH",index:e,width:t}),changeRowFontSize:e=>({type:"CHANGE_ROW_FONT_SIZE",size:e}),changeTableRowHeight:e=>({type:"CHANGE_TABLE_ROW_HEIGHT",height:e}),changeTableHeaderHeight:e=>({type:"CHANGE_TABLE_HEADER_HEIGHT",height:e}),changeCompactModeEnemyButtonsHotkey:(e,t)=>({type:"CHANGE_COMPACT_MODE_ENEMY_BUTTONS_HOTKEY",index:e,key:t}),changeHotkey:(e,t)=>({type:"CHANGE_HOTKEY",action:e,key:t}),resetToDefault:()=>({type:"RESET_TO_DEFAULT"})},gt=Object(Ae.b)(e=>Object(j.a)({},e.config),dt)(e=>n.createElement(H.a,{trigger:e.trigger},n.createElement(H.a.Header,null,"Run Assistant Configuration"),n.createElement(H.a.Content,null,n.createElement(E.a,null,n.createElement(p.a,null,"Run Assistant"),n.createElement(E.a.Group,{inline:!0},n.createElement(E.a.Checkbox,{checked:e.useImages,onChange:()=>e.changeUseImages(!e.useImages),label:"Use Enemy Images",toggle:!0}),n.createElement(E.a.Checkbox,{checked:e.compactMode,onChange:()=>e.changeCompactMode(!e.compactMode),label:"Enemy Compact Mode",toggle:!0})),n.createElement(p.a,null,"Table"),n.createElement(E.a.Group,{widths:"equal",label:"Default Visible Columns"},e.columns.map((t,a)=>n.createElement(E.a.Checkbox,{key:t.key,checked:!1!==t.show,onChange:()=>e.changeColumnVisibility(a,!t.show),label:t.label}))),n.createElement(E.a.Group,null,n.createElement(E.a.Input,{type:"number",onChange:t=>e.changeRowFontSize(parseInt(t.currentTarget.value)),min:4,max:72,step:2,value:e.table.rowStyle.fontSize,label:"Font Size (px)"}),n.createElement(E.a.Input,{type:"number",onChange:t=>e.changeTableRowHeight(parseInt(t.currentTarget.value)),min:10,max:120,step:10,value:e.table.rowHeight,label:"Table Row Height (px)"}),n.createElement(E.a.Input,{type:"number",onChange:t=>e.changeTableHeaderHeight(parseInt(t.currentTarget.value)),min:10,max:120,step:10,value:e.table.headerHeight,label:"Header Row Height (px)"})),n.createElement(p.a,null,"Hotkeys"),n.createElement(E.a.Group,{widths:"equal"},n.createElement(ht,{key:"nextFight",action:"nextFight",label:"Next Fight",type:"text",changeHotkey:t=>e.changeHotkey("nextFight",t),hotkey:e.hotkeys.nextFight}),n.createElement(ht,{key:"prevFight",action:"prevFight",label:"Previous Fight",type:"text",changeHotkey:t=>e.changeHotkey("prevFight",t),hotkey:e.hotkeys.prevFight})),n.createElement(p.a,null,"Compact Enemy Button Hotkeys"),n.createElement(E.a.Group,{widths:"equal"},e.hotkeys.compactModeEnemyButtons.slice(0,3).map((t,a)=>n.createElement(ht,{key:"Enemy / Group ".concat(a+1),action:"Enemy / Group ".concat(a+1),label:"Enemy / Group ".concat(a+1),type:"text",changeHotkey:t=>e.changeCompactModeEnemyButtonsHotkey(a,t),hotkey:t.toString()}))),n.createElement(E.a.Group,{widths:"equal"},e.hotkeys.compactModeEnemyButtons.slice(3).map((t,a)=>n.createElement(ht,{key:"Enemy / Group ".concat(a+4),action:"Enemy / Group ".concat(a+4),label:"Enemy / Group ".concat(a+4),type:"text",changeHotkey:t=>e.changeCompactModeEnemyButtonsHotkey(a+3,t),hotkey:t.toString()}))),n.createElement(E.a.Group,{inline:!0},n.createElement(E.a.Button,{content:"Save Settings",primary:!0,onClick:()=>(e=>{window.localStorage.setItem("config",JSON.stringify({useImages:e.useImages,compactMode:e.compactMode,columns:e.columns,table:e.table,hotkeys:e.hotkeys}))})(e)}),n.createElement(E.a.Button,{content:"Reset to Default",onClick:()=>e.resetToDefault()}))))));function bt(){var e=Object($.a)([""]);return bt=function(){return e},e}var Et={jumpRNG:e=>({type:"JUMP_RNG",jump:e}),nextFight:()=>({type:"NEXT_FIGHT"}),previousFight:()=>({type:"PREVIOUS_FIGHT"}),findFight:De,switchArea:e=>({type:"SWITCH_AREA",area:e}),togglePatternMode:()=>({type:"TOGGLE_PATTERN_MODE"})};class yt extends n.Component{constructor(...e){super(...e),this.handleHotkeyNextFight=e=>{"input"!==e.target.tagName.toLowerCase()&&e.key===this.props.hotkeys.nextFight&&this.props.nextFight()},this.handleHotkeyPrevFight=e=>{"input"!==e.target.tagName.toLowerCase()&&e.key===this.props.hotkeys.prevFight&&this.props.previousFight()}}componentDidMount(){document.addEventListener("keydown",this.handleHotkeyNextFight),document.addEventListener("keydown",this.handleHotkeyPrevFight)}componentWillUnmount(){document.removeEventListener("keydown",this.handleHotkeyNextFight),document.removeEventListener("keydown",this.handleHotkeyPrevFight)}render(){var e=this.props,t=e.areas,a=e.currentArea,r=e.compactMode;return n.createElement(u.a,{className:this.props.className},r?n.createElement(st,null):n.createElement(mt,null),n.createElement(m.a,{style:{display:"flex",justifyContent:"space-between"}},n.createElement(N.a,{label:"Areas",placeholder:"Area",value:a,options:t.map(e=>({key:e,value:e,text:e})),onChange:(e,t)=>{this.props.switchArea(t.value)},selection:!0}),n.createElement(A.a,{style:{display:"flex",margin:"0 1em",alignItems:"center"},label:"Pattern Mode",checked:this.props.patternMode,onChange:()=>this.props.togglePatternMode()}),n.createElement(gt,{trigger:n.createElement(f.a,null,"Config")}),n.createElement("span",{style:{display:"flex",flex:1,justifyContent:"flex-end"}},n.createElement(f.a,{content:"+100",onClick:()=>this.props.jumpRNG(100)}),n.createElement(f.a,{content:"+500",onClick:()=>this.props.jumpRNG(500)}),n.createElement(f.a,{content:"+1000",onClick:()=>this.props.jumpRNG(1e3)}),n.createElement(f.a,{content:"Previous",onClick:()=>this.props.previousFight()}),n.createElement(f.a,{content:"Next",onClick:()=>this.props.nextFight()}))))}}var vt=Object(Ae.b)(e=>({areas:e.RunAssistant.areas.map(e=>e.name),currentArea:_e(e.RunAssistant).name,findNextFight:()=>{var t=function(e){return ze(e,Be(e).enemyGroup.name)}(e.RunAssistant);return t>-1?function(e,t){return Ue(e)[t]}(e.RunAssistant,t):null},getCurrentFight:()=>Be(e.RunAssistant),patternMode:e.RunAssistant.patternMode,compactMode:e.config.compactMode,hotkeys:e.config.hotkeys}),Et)(yt),xt=Object(Q.a)(vt)(bt()),Ot={useImages:!1,compactMode:!1,columns:[{label:"Area",key:"area",width:200,show:!1},{label:"Enemy Group",key:"enemyGroup",width:300,show:!0},{label:"Enemy Group Image",key:"enemyGroupImage",width:300,show:!1},{label:"Index",key:"index",width:100,show:!0},{label:"Run",key:"run",width:100,show:!0},{label:"Encounter RNG",key:"startRNG",width:150,show:!1},{label:"Battle RNG",key:"battleRNG",width:150,show:!0},{label:"Wheel Attempts",key:"wheel",width:150,show:!0},{label:"Champion Value",key:"champVal",width:150,show:!1}],table:{rowHeight:30,headerHeight:30,rowStyle:{fontSize:16}},hotkeys:{nextFight:"n",prevFight:"b",compactModeEnemyButtons:["1","2","3","4","5","6"]}},wt=Object(Me.a)({CHANGE_USE_IMAGES:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{useImages:t.useImages}),CHANGE_COMPACT_MODE:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{compactMode:t.compactMode}),CHANGE_COLUMN_VISIBILITY:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{columns:e.columns.map((e,a)=>a!==t.index?e:Object(j.a)(Object(j.a)({},e),{},{show:t.show}))}),CHANGE_TABLE_ROW_HEIGHT:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{table:Object(j.a)(Object(j.a)({},e.table),{},{rowHeight:t.height})}),CHANGE_TABLE_HEADER_HEIGHT:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{table:Object(j.a)(Object(j.a)({},e.table),{},{headerHeight:t.height})}),CHANGE_ROW_FONT_SIZE:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{table:Object(j.a)(Object(j.a)({},e.table),{},{rowStyle:Object(j.a)(Object(j.a)({},e.table.rowStyle),{},{fontSize:t.size})})}),CHANGE_HOTKEY:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{hotkeys:Object(j.a)(Object(j.a)({},e.hotkeys),{},{[t.action]:t.key})}),CHANGE_COMPACT_MODE_ENEMY_BUTTONS_HOTKEY:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{hotkeys:Object(j.a)(Object(j.a)({},e.hotkeys),{},{compactModeEnemyButtons:[...e.hotkeys.compactModeEnemyButtons.slice(0,t.index),t.key,...e.hotkeys.compactModeEnemyButtons.slice(t.index+1)]})}),RESET_TO_DEFAULT:(e,t)=>Ot},Ot),ft={compactEnemyButtonsGroupSize:null},jt=Object(Me.a)({SET_ENEMY_BUTTON_GROUP_SIZE:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{compactEnemyButtonsGroupSize:t.size}),FIND_FIGHT:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{compactEnemyButtonsGroupSize:null}),SWITCH_AREA:(e,t)=>Object(j.a)(Object(j.a)({},e),{},{compactEnemyButtonsGroupSize:null}),RESET_TO_DEFAULT:(e,t)=>ft},ft),kt=Object(Te.c)({RunAssistant:Le,config:wt,controls:jt}),St=Object(He.createLogger)({});class Ct extends n.Component{constructor(e){super(e);var t=new URLSearchParams(this.props.location.search),a=parseInt(t.get("rng")),n=parseInt(t.get("iterations")),r=parseInt(t.get("partylevel")),l=t.get("areas").split(",").map(e=>this.props.areas[e]),s="false"!==t.get("realistic"),c=l.map(e=>e.generateEncounters(new b.c(a),n,r,s)),o=null!==t.get("index")?parseInt(t.get("index")):0,i=window.localStorage.getItem("config");i=null===i?Ot:Object(j.a)(Object(j.a)(Object(j.a)({},Ot),JSON.parse(i)),{},{table:Object(j.a)(Object(j.a)(Object(j.a)({},Ot.table),JSON.parse(i).table),{},{rowStyle:Object(j.a)(Object(j.a)({},Ot.table.rowStyle),JSON.parse(i).table.rowStyle)}),hotkeys:Object(j.a)(Object(j.a)({},Ot.hotkeys),JSON.parse(i).hotkeys)});var u={RunAssistant:{currentArea:0,areas:l.map(e=>({name:e.name,enemies:e.encounterTable.map(e=>({name:e.name,enemies:e.enemies,champVal:e.champVal}))})),fightsList:c,index:o<c[0].length?o:0,pattern:[],patternMode:!1},config:i,controls:ft};this.state={store:Object(Te.d)(kt,u,Object(Te.a)(St))}}render(){return n.createElement(Ae.a,{store:this.state.store},n.createElement(n.Fragment,null,n.createElement(xt,null),n.createElement(Fe.a,{hidden:!0}),n.createElement(qe,null)))}}var Gt=Object(g.e)(Ct),It=()=>n.createElement(u.a,{text:!0},n.createElement(m.a,null,n.createElement(p.a,null,n.createElement(s.b,{to:"/stats/starting-stats"},"Starting Stats")),n.createElement("p",null,"Used to calculate a characters starting stats. Can also be used to find good RNG values for a certain character's stat. For example, if you're trying to find a +8 Cleo MGC off Varkas & Sydonia, select Cleo, set starting level to 5, levels gained to 2, and RNG & iterations to whatever suits you. Then look for rows where Cleo has 8 MGC."),n.createElement("p",null,"Note that this doesn't include character's level 1 stats. So if you want actual starting stats, you need to figure out that character's level 1 stats and add them to the values in the table.")),n.createElement(m.a,null,n.createElement(p.a,null,n.createElement(s.b,{to:"/stats/level-ups"},"Level Ups")),n.createElement("p",null,"This is used to see what kind of levelups you get off a certain RNG. The primary use case is to optimize stats via formation swaps off certain fights."))),Rt=a(67),Nt=Object(g.e)(({areas:e,history:t})=>{var a=Object(n.useState)([]),l=Object(d.a)(a,2),s=l[0],c=l[1],o=Object(n.useState)(1),i=Object(d.a)(o,2),m=i[0],p=i[1],h=Object(n.useState)(1),g=Object(d.a)(h,2),x=g[0],O=g[1],w=Object(n.useState)(b.b.numToHexString(18)),f=Object(d.a)(w,2),j=f[0],k=f[1],S=Object(n.useState)(1e3),C=Object(d.a)(S,2),G=C[0],I=C[1];return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{onSubmit:e=>{e.preventDefault();var a=new URLSearchParams;a.append("characters",s),a.append("rng",j),a.append("iterations",G),a.append("startingLevel",m),a.append("levelsGained",x),t.push("/stats/starting-stats/result?".concat(a.toString()))},action:"result",size:"large"},r.a.createElement(E.a.Dropdown,{label:"Characters",placeholder:"Character",options:Object.keys(Rt.a).sort().map(e=>({key:e,value:e,text:e})),value:s,onChange:(e,t)=>c(t.value),multiple:!0,search:!0,selection:!0}),r.a.createElement(y,{value:j,onChange:e=>k(e.target.value)}),r.a.createElement(v,{value:G,onChange:e=>I(e.target.value)}),r.a.createElement(E.a.Input,{label:"Starting Level",type:"number",value:m,onChange:e=>p(e.target.value),min:1,max:99}),r.a.createElement(E.a.Input,{label:"Levels Gained",type:"number",value:x,onChange:e=>O(e.target.value),min:1,max:98}),r.a.createElement(E.a.Button,{type:"submit",content:"Generate Starting Stats",primary:!0})))}),At=a(132),Tt=e=>n.createElement(_,{columns:[{label:"Index",key:"index",width:50},{label:"Character",key:"character",width:200},{label:"PWR",key:"PWR",width:50},{label:"SKL",key:"SKL",width:50},{label:"DEF",key:"DEF",width:50},{label:"SPD",key:"SPD",width:50},{label:"MGC",key:"MGC",width:50},{label:"LUK",key:"LUK",width:50},{label:"RNG",key:"rng",width:100}],data:e.startingStats}),Ht=Object(g.e)(({areas:e,location:t})=>{var a=new URLSearchParams(t.search),n=a.get("characters").split(","),l=parseInt(a.get("rng")),s=parseInt(a.get("iterations")),c=parseInt(a.get("startingLevel")),o=parseInt(a.get("levelsGained")),i=[];return n.forEach(e=>{for(var t=new b.c(l),a=0;a<s;a++)i.push(Object(j.a)(Object(j.a)({character:e,index:a},Object(At.a)(e,c,o,t.clone())),{},{rng:t.toString()})),t.next()}),r.a.createElement(u.a,{style:{flex:1},textAlign:"center"},r.a.createElement(Tt,{startingStats:i}))}),Ft=Object(g.e)(({areas:e,history:t})=>{var a=Object(n.useState)([]),l=Object(d.a)(a,2),s=l[0],c=l[1],o=Object(n.useState)(1),i=Object(d.a)(o,2),m=i[0],p=i[1],h=Object(n.useState)(b.b.numToHexString(18)),g=Object(d.a)(h,2),v=g[0],x=g[1],O=Object(n.useState)(10),w=Object(d.a)(O,2),f=w[0],j=w[1];return r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(E.a,{onSubmit:e=>{e.preventDefault();var a=new URLSearchParams;a.append("characters",s),a.append("rng",v),a.append("iterations",f),a.append("startingLevel",m),t.push("/stats/level-ups/result?".concat(a.toString()))},action:"result",size:"large"},r.a.createElement(E.a.Dropdown,{label:"Characters",placeholder:"Character",options:Object.keys(Rt.a).sort().map(e=>({key:e,value:e,text:e})),value:s,onChange:(e,t)=>c(t.value),multiple:!0,search:!0,selection:!0}),r.a.createElement(y,{value:v,onChange:e=>x(e.target.value)}),r.a.createElement(E.a.Input,{label:"Iterations",name:"iterations",step:"1",type:"number",value:f,onChange:e=>j(e.target.value)}),r.a.createElement(E.a.Input,{label:"Starting Level",type:"number",value:m,onChange:e=>p(e.target.value),min:1,max:99}),r.a.createElement(E.a.Button,{type:"submit",content:"Generate Level Ups",primary:!0})))}),Dt=e=>n.createElement(_,{columns:[{label:"Index",key:"index",width:50},{label:"Character",key:"character",width:200},{label:"PWR",key:"PWR",width:50},{label:"SKL",key:"SKL",width:50},{label:"DEF",key:"DEF",width:50},{label:"SPD",key:"SPD",width:50},{label:"MGC",key:"MGC",width:50},{label:"LUK",key:"LUK",width:50}],data:e.levelUps}),Mt=Object(g.e)(({areas:e,location:t})=>{var a=new URLSearchParams(t.search),n=a.get("characters").split(","),l=parseInt(a.get("rng")),s=parseInt(a.get("iterations")),c=parseInt(a.get("startingLevel")),o=[];return n.forEach(e=>{var t=Object(At.b)(new b.c(l),e,c,s).map((t,a)=>Object(j.a)({character:e,index:a},t));o=o.concat(t)}),r.a.createElement(u.a,{style:{flex:1},textAlign:"center"},r.a.createElement(Dt,{levelUps:o}))}),Lt=(a(453),()=>n.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100vh"}},n.createElement(i,null),n.createElement(g.a,{path:"/",component:h,exact:!0}),n.createElement(g.a,{path:"/encounters",exact:!0,render:()=>n.createElement(O,{areas:b.a})}),n.createElement(g.a,{path:"/encounters/result",exact:!0,render:()=>n.createElement(B,{areas:b.a})}),n.createElement(g.a,{path:"/stats",exact:!0,render:()=>n.createElement(It,null)}),n.createElement(g.a,{path:"/stats/starting-stats",exact:!0,render:()=>n.createElement(Nt,null)}),n.createElement(g.a,{path:"/stats/starting-stats/result",exact:!0,render:()=>n.createElement(Ht,null)}),n.createElement(g.a,{path:"/stats/level-ups",exact:!0,render:()=>n.createElement(Ft,null)}),n.createElement(g.a,{path:"/stats/level-ups/result",exact:!0,render:()=>n.createElement(Mt,null)}),n.createElement(g.a,{path:"/sequence",exact:!0,component:V}),n.createElement(g.a,{path:"/sequence/result",exact:!0,component:K}),n.createElement(g.a,{path:"/npc",exact:!0,component:J}),n.createElement(g.a,{path:"/npc/result",exact:!0,component:X}),n.createElement(g.a,{path:"/drops",exact:!0,render:()=>n.createElement(U,{areas:b.a})}),n.createElement(g.a,{path:"/drops/result",exact:!0,render:()=>n.createElement(W,{areas:b.a})}),n.createElement(g.a,{path:"/rngfinder",render:()=>n.createElement(Ee,{areas:b.a})}),n.createElement(g.a,{path:"/experience",exact:!0,render:()=>n.createElement(Ie,{areas:b.a})}),n.createElement(g.a,{path:"/runassist",exact:!0,render:()=>n.createElement(Ne,{areas:b.a})}),n.createElement(g.a,{path:"/runassist/result",exact:!0,render:()=>n.createElement(Gt,{areas:b.a})}))),_t=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pt(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{var t=e.installing;t&&(t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}a(454),a(455);l.render(n.createElement(s.a,null,n.createElement(Lt,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/Suikoden-RNG-Tool",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",()=>{var e="".concat("/Suikoden-RNG-Tool","/service-worker.js");_t?function(e){fetch(e).then(t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):Pt(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e):Pt(e)})}}()}},[[283,1,2]]]);
//# sourceMappingURL=main.c159d22f.chunk.js.map